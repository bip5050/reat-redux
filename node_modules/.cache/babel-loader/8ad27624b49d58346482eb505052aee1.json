{"ast":null,"code":"import _objectSpread from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Filter/storeDropdown.js\";\nimport React, { Component } from 'react';\nimport { sortBy as _sortBy } from 'lodash';\n\nvar StoreDropdown = /*#__PURE__*/function (_Component) {\n  _inherits(StoreDropdown, _Component);\n\n  var _super = _createSuper(StoreDropdown);\n\n  function StoreDropdown(props) {\n    var _this;\n\n    _classCallCheck(this, StoreDropdown);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeHandle = function (e) {\n      var _this$setState;\n\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"stOpen\", true), _this$setState));\n    };\n\n    _this.handleClick = function (e) {\n      e.stopPropagation();\n\n      if (_this.nodeStore.contains(e.target) || e.target.getAttribute('data') === 'ignore-outer-click') {\n        return;\n      }\n\n      if (!!_this.state.stOpen) {\n        _this.setState({\n          stOpen: false,\n          storeTxt: _this.state.selStoreTxt\n        });\n      }\n    };\n\n    _this.handleSelectbox = function () {\n      _this.setState({\n        stOpen: !_this.state.stOpen,\n        storeTxt: !!_this.state.stOpen ? _this.state.selStoreTxt : ''\n      }); //this.onChangeHandle     =   this.onChangeHandle.bind(this);\n\n    };\n\n    _this.state = {\n      storeTxt: '',\n      selStoreTxt: '',\n      stOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(StoreDropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var selId = props.selected || '';\n\n      if (!!selId) {\n        var selectedIndex = (props.stores || []).findIndex(function (item) {\n          return item.id === selId;\n        });\n        var selectedStore = props.stores[selectedIndex].label;\n        this.setState({\n          storeTxt: selectedStore,\n          selStoreTxt: selectedStore\n        });\n      } else {\n        this.setState({\n          selStoreTxt: ''\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var unsortedStore = this.props.stores || [];\n\n      var stores = _sortBy(unsortedStore, 'label');\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(nodeStore) {\n          return _this2.nodeStore = nodeStore;\n        },\n        className: \"select-box\".concat(this.state.stOpen ? \" sopen\" : \" \"),\n        onClick: this.handleSelectbox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"s-result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: this.props.className,\n        autoComplete: \"text\",\n        placeholder: \"Store\",\n        name: \"storeTxt\",\n        value: this.state.storeTxt,\n        onChange: this.onChangeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 43\n        }\n      })), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, stores.map(function (store, i) {\n        return store.label.toLowerCase().includes(_this2.state.storeTxt.toLowerCase()) ? /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          data: \"ignore-outer-click\",\n          onClick: function onClick(e) {\n            return _this2.props.handleStoreChange(_objectSpread({}, store), i);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }\n        }, store.label) : null;\n      })));\n    }\n  }]);\n\n  return StoreDropdown;\n}(Component);\n\nexport { StoreDropdown as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Filter/storeDropdown.js"],"names":["React","Component","sortBy","_sortBy","StoreDropdown","props","onChangeHandle","e","name","target","value","setState","handleClick","stopPropagation","nodeStore","contains","getAttribute","state","stOpen","storeTxt","selStoreTxt","handleSelectbox","document","addEventListener","removeEventListener","selId","selected","selectedIndex","stores","findIndex","item","id","selectedStore","label","unsortedStore","className","map","store","i","toLowerCase","includes","handleStoreChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {sortBy as _sortBy} from 'lodash';\nexport default class StoreDropdown extends Component {\n    constructor(props) {\n        super(props);\n        this.state      =   {\n            storeTxt: '',\n            selStoreTxt: '',\n            stOpen: false\n        }\n    }   \n  \n    onChangeHandle = (e) => {\n       const name = e.target.name;\n       const value = e.target.value;\n       this.setState({\n           [name]   :   value,\n           stOpen   :   true\n        });\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.handleClick);\n    };\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.handleClick);\n    };\n     \n    handleClick = (e) => {\n        e.stopPropagation();\n        if(this.nodeStore.contains(e.target)\n        || e.target.getAttribute('data') === 'ignore-outer-click'){ return; }\n\t\tif(!!this.state.stOpen) {\n            this.setState({\n                stOpen      :   false,\n                storeTxt    :   this.state.selStoreTxt\n            });\n        }\n    }\n   \n    handleSelectbox = () => {\n        this.setState({\n            stOpen      :  !this.state.stOpen,\n            storeTxt    :   (!!this.state.stOpen) ? this.state.selStoreTxt : ''\n        })\n        //this.onChangeHandle     =   this.onChangeHandle.bind(this);\n    }\n\n    componentWillReceiveProps(props) {\n        let selId           =   props.selected || '';     \n        if(!!selId) {\n            let selectedIndex   =   (props.stores || []).findIndex(item => item.id === selId)\n            let selectedStore   =   props.stores[selectedIndex].label;\n            this.setState({\n                storeTxt        :   selectedStore,\n                selStoreTxt     :   selectedStore\n            })\n        } else {\n            this.setState({                \n                selStoreTxt     :   ''\n            })\n        }\n    }\n\n    render() {\n        let unsortedStore           =   this.props.stores || [];\n        let stores                  =   _sortBy(unsortedStore, 'label');\n        return (\n            <div ref={nodeStore => this.nodeStore = nodeStore} className={`select-box${this.state.stOpen ? \" sopen\" : \" \"}`} onClick={this.handleSelectbox}>\n                <div className=\"s-result\"><input type=\"text\" className={this.props.className} autoComplete=\"text\" placeholder=\"Store\" name=\"storeTxt\" value={this.state.storeTxt} onChange={this.onChangeHandle}/></div>\n                <ul>\n                {\n                    stores.map((store, i) => {\n                        return (\n                            (store.label.toLowerCase().includes(this.state.storeTxt.toLowerCase())) ?\n                            <li key={i} data='ignore-outer-click' onClick={(e) => this.props.handleStoreChange({...store}, i)}>{store.label}</li> : null\n                        )\n                    })\n                }\n                </ul>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}