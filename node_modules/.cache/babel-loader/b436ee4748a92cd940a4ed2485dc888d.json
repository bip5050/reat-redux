{"ast":null,"code":"import _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Dashboard/zoneWiseList.js\";\nimport React, { Component } from 'react';\nimport { getStatusClass, getTaskStatus } from '../../util/helper';\nimport { isEmpty, isEqual, map as _map } from 'lodash';\nimport { convertTwoDecimalRound } from '../../Helper/common';\n\nvar UncategorizedList = /*#__PURE__*/function (_Component) {\n  _inherits(UncategorizedList, _Component);\n\n  var _super = _createSuper(UncategorizedList);\n\n  function UncategorizedList(props) {\n    _classCallCheck(this, UncategorizedList);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(UncategorizedList, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var tasks = this.props.tasks || {};\n      var shoppedLateData = this.props.shoppedLate || {};\n      var shoppedLateSummary = shoppedLateData.summary || {};\n      return !isEmpty(tasks) ? Object.keys(tasks || {}).map(function (item, i) {\n        var cities = tasks[item] || [];\n        return /*#__PURE__*/React.createElement(\"section\", {\n          key: i,\n          className: \"content\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 22\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 25\n          }\n        }, item), cities.map(function (city, index) {\n          var orderList = city.orders || []; //let shoppedLatePerc     =  convertTwoDecimalRound((city.totShoppedLate > 0 && city.total >= 0) ? (city.totShoppedLate * 100)/city.total : 0);\n\n          var shoppedLate = 0;\n          var totalShopped = 0;\n          var shoppedLatePerc = 0;\n          var zoneSummary = {};\n          if (shoppedLateData.type === 'store') zoneSummary = shoppedLateSummary[city.uniqueid] || {};else zoneSummary = !!shoppedLateSummary[item] ? shoppedLateSummary[item][city.uniqueid] : {}; //console.log(stateSummary, task.name);\n\n          if (!isEmpty(zoneSummary)) {\n            totalShopped = zoneSummary.total_orders;\n            shoppedLate = zoneSummary.shopped_late;\n            shoppedLatePerc = convertTwoDecimalRound(zoneSummary.shopping_late_percent);\n          }\n\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: index,\n            className: \"table_sec dboardtable\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 40\n            }\n          }, /*#__PURE__*/React.createElement(\"thead\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 40\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 46\n            }\n          }, /*#__PURE__*/React.createElement(\"th\", {\n            colSpan: \"8\",\n            className: \"t-titel\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 49\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"aOrder\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 85\n            }\n          }, city.name), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"status_count\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 52\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"fc_black\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 58\n            }\n          }, \" Total: \", city.total), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"fc_green\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 58\n            }\n          }, \"Ready: \", city.ready), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"fc_yellow\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 58\n            }\n          }, \"Shopping: \", city.shopping), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"fc_read\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 58\n            }\n          }, \"Not Ready: \", city.not_ready), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"fc_gray\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 58\n            }\n          }, \" Shopped Late: \", shoppedLatePerc, \"% (\", shoppedLate, \"/\", totalShopped, \")\"))))), /*#__PURE__*/React.createElement(\"tbody\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 46\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            className: \"t-heading\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 46\n            }\n          }, /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 49\n            }\n          }, \"Order Number\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 49\n            }\n          }, \"Delivery Window\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 49\n            }\n          }, \"Merchant Address\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 49\n            }\n          }, \"Recipient Address\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 49\n            }\n          }, \"Driver\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 49\n            }\n          }, \"Shopped Late\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 49\n            }\n          }, \"Task Status\"), /*#__PURE__*/React.createElement(\"th\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 49\n            }\n          })), orderList.map(function (order, oIndex) {\n            var ordClsName = '';\n\n            if (order.order_status === 'R' || order.order_status === 'F' || order.order_status === 'Y') {\n              ordClsName = 'ready';\n            } else if (order.order_status === 'W') {\n              ordClsName = 'shopping';\n            } else {\n              ordClsName = 'not_ready';\n            }\n\n            var shoppedLate = 'No';\n            var shoppedLateCls = 'fcGray';\n\n            if (order.shoppedLate > 0) {\n              shoppedLate = order.shoppedLate + ' min';\n              if (order.shoppedLate >= 30) shoppedLateCls = 'fcRed';else shoppedLateCls = 'fcBlack';\n            } //console.log('Onfleet : ', order.order_status, ordClsName);\n\n\n            var clsName = getStatusClass(order.tsk_status);\n            return /*#__PURE__*/React.createElement(\"tr\", {\n              key: oIndex,\n              onContextMenu: function onContextMenu(e) {\n                return _this.props.handleContextMenu(e, {\n                  order_number: order.order_number,\n                  order_id: order.id,\n                  order_uuid: order.uuid,\n                  tsk_status: order.tsk_status,\n                  mrchnt_address: order.mrchnt_address,\n                  recpnt_address: order.recpnt_address\n                });\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 58\n              }\n            }, /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 61\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: \"round \".concat(ordClsName),\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 64\n              }\n            }), order.order_number), /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 61\n              }\n            }, order.complete_after, \" - \", order.complete_before), /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              className: \"acell\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 61\n              }\n            }, /*#__PURE__*/React.createElement(\"label\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 93\n              }\n            }, order.mrchnt_address.toString()), \" \", /*#__PURE__*/React.createElement(\"span\", {\n              className: \"tTip\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 142\n              }\n            }, order.mrchnt_address.toString())), /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              className: \"acell\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 61\n              }\n            }, /*#__PURE__*/React.createElement(\"label\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 93\n              }\n            }, order.recpnt_address.toString()), /*#__PURE__*/React.createElement(\"span\", {\n              className: \"tTip\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 141\n              }\n            }, order.recpnt_address.toString())), /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 61\n              }\n            }, order.driver_name), /*#__PURE__*/React.createElement(\"td\", {\n              abbr: \"tr\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 61\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: shoppedLateCls,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 64\n              }\n            }, shoppedLate)), /*#__PURE__*/React.createElement(\"td\", {\n              className: \"react-contextmenu-wrapper\",\n              id: \"some_unique_identifier\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 61\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: clsName,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 64\n              }\n            }, order.tsk_status)), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 61\n              }\n            }, !!order.track_driver && order.tsk_status !== 'Completed' ? /*#__PURE__*/React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.props.openTrackWindow(e, {\n                  current_url: order.current_url,\n                  track_driver: order.track_driver\n                });\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 70\n              }\n            }, \"Track Driver\") : null));\n          }))));\n        }));\n      }) : /*#__PURE__*/React.createElement(\"section\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"no-records\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 48\n        }\n      }, \"No Records\"));\n    }\n  }]);\n\n  return UncategorizedList;\n}(Component);\n\nexport { UncategorizedList as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Dashboard/zoneWiseList.js"],"names":["React","Component","getStatusClass","getTaskStatus","isEmpty","isEqual","map","_map","convertTwoDecimalRound","UncategorizedList","props","tasks","shoppedLateData","shoppedLate","shoppedLateSummary","summary","Object","keys","item","i","cities","city","index","orderList","orders","totalShopped","shoppedLatePerc","zoneSummary","type","uniqueid","total_orders","shopped_late","shopping_late_percent","name","total","ready","shopping","not_ready","order","oIndex","ordClsName","order_status","shoppedLateCls","clsName","tsk_status","e","handleContextMenu","order_number","order_id","id","order_uuid","uuid","mrchnt_address","recpnt_address","complete_after","complete_before","toString","driver_name","track_driver","openTrackWindow","current_url"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { getStatusClass, getTaskStatus } from '../../util/helper';\nimport { isEmpty, isEqual, map as _map } from 'lodash';\nimport { convertTwoDecimalRound } from '../../Helper/common';\n\nexport default class UncategorizedList extends Component {\n   constructor(props) {\n      super(props);\n   }\n\n   render() {\n      let tasks               =  this.props.tasks || {};\n      let shoppedLateData     =  this.props.shoppedLate || {};\n      let shoppedLateSummary  =  shoppedLateData.summary || {};\n      return (\n         (!isEmpty(tasks)) ?\n            Object.keys(tasks || {}).map((item, i) => {\n               let cities     =  tasks[item] || [];\n               return (\n                     <section key={i} className=\"content\">\n                        <h3 className=\"title\">{item}</h3>\n                        {    \n                           cities.map((city, index) => {\n                                 let orderList           =  city.orders || [];\n                                 //let shoppedLatePerc     =  convertTwoDecimalRound((city.totShoppedLate > 0 && city.total >= 0) ? (city.totShoppedLate * 100)/city.total : 0);\n                                 let shoppedLate            =  0;\n                                 let totalShopped           =  0;\n                                 let shoppedLatePerc        =  0;\n                                 let zoneSummary            =  {};\n                                 if(shoppedLateData.type === 'store')\n                                    zoneSummary             =  shoppedLateSummary[city.uniqueid] || {};\n                                 else\n                                    zoneSummary             =  (!!shoppedLateSummary[item]) ? shoppedLateSummary[item][city.uniqueid] : {};\n                                 //console.log(stateSummary, task.name);\n                                 if(!isEmpty(zoneSummary)) {\n                                    totalShopped            =  zoneSummary.total_orders;\n                                    shoppedLate             =  zoneSummary.shopped_late;\n                                    shoppedLatePerc         =  convertTwoDecimalRound(zoneSummary.shopping_late_percent);\n                                 }\n                                 return (\n                                    <div key={index} className=\"table_sec dboardtable\">\n                                       <table>\n                                       <thead>\n                                             <tr>\n                                                <th colSpan=\"8\" className=\"t-titel\"><span className=\"aOrder\">{city.name}</span>\n                                                   <div className=\"status_count\">\n                                                         <span className=\"fc_black\"> Total: {city.total}</span>\n                                                         <span className=\"fc_green\">Ready: {city.ready}</span>\n                                                         <span className=\"fc_yellow\">Shopping: {city.shopping}</span>\n                                                         <span className=\"fc_read\">Not Ready: {city.not_ready}</span>\n                                                         <span className=\"fc_gray\"> Shopped Late: {shoppedLatePerc}% ({shoppedLate}/{totalShopped})</span>\n                                                   </div>\n                                                </th>\n                                             </tr>\n                                             </thead>\n                                             <tbody>\n                                             <tr className=\"t-heading\">\n                                                <th>Order Number</th>\n                                                <th>Delivery Window</th>\n                                                <th>Merchant Address</th>\n                                                <th>Recipient Address</th>\n                                                <th>Driver</th>\n                                                <th>Shopped Late</th>\n                                                <th>Task Status</th>\n                                                <th></th>\n                                             </tr>\n                                             {\n                                                orderList.map((order, oIndex) => {\n                                                   let ordClsName  =   '';\n                                                   if(order.order_status === 'R' || order.order_status === 'F' || order.order_status === 'Y'){\n                                                         ordClsName  =   'ready';\n                                                   } else if(order.order_status === 'W') {\n                                                         ordClsName  =   'shopping';\n                                                   }\n                                                   else {\n                                                         ordClsName  =   'not_ready';\n                                                   }\n                                                   let shoppedLate         =  'No';\n                                                   let shoppedLateCls      =  'fcGray';\n                                                   if(order.shoppedLate > 0) {\n                                                      shoppedLate    = order.shoppedLate + ' min';\n                                                      if(order.shoppedLate >= 30)\n                                                         shoppedLateCls    =  'fcRed';\n                                                      else \n                                                         shoppedLateCls    =  'fcBlack';\n                                                   }\n                                                   //console.log('Onfleet : ', order.order_status, ordClsName);\n                                                   let clsName    =  getStatusClass(order.tsk_status);\n                                                   return (\n                                                         <tr\n                                                            key={oIndex}\n                                                            onContextMenu={(e) => this.props.handleContextMenu(e, {\n                                                               order_number: order.order_number,\n                                                               order_id: order.id,\n                                                               order_uuid: order.uuid,\n                                                               tsk_status: order.tsk_status,\n                                                               mrchnt_address: order.mrchnt_address,\n                                                               recpnt_address: order.recpnt_address\n                                                            })}>\n                                                            <td abbr=\"tr\">\n                                                               <span className={`round ${ordClsName}`}></span>\n                                                               {order.order_number}\n                                                            </td>\n                                                            <td abbr=\"tr\">{order.complete_after} - {order.complete_before}</td>\n                                                            <td abbr=\"tr\" className=\"acell\"><label>{order.mrchnt_address.toString()}</label> <span className=\"tTip\">{order.mrchnt_address.toString()}</span></td>\n                                                            <td abbr=\"tr\" className=\"acell\"><label>{order.recpnt_address.toString()}</label><span className=\"tTip\">{order.recpnt_address.toString()}</span></td>\n                                                            <td abbr=\"tr\">{order.driver_name}</td>\n                                                            <td abbr=\"tr\">\n                                                               <span className={shoppedLateCls}>{shoppedLate}</span>\n                                                            </td>\n                                                            <td className=\"react-contextmenu-wrapper\" id=\"some_unique_identifier\">\n                                                               <span className={clsName}>{order.tsk_status}</span>                           \n                                                            </td>\n                                                            <td>\n                                                               {\n                                                                     (!!order.track_driver && order.tsk_status !== 'Completed') ? \n                                                                     <a onClick={(e)  => this.props.openTrackWindow(e, {\n                                                                        current_url: order.current_url,\n                                                                        track_driver: order.track_driver\n                                                                     })}>Track Driver</a> : null\n                                                               }\n                                                            </td>\n                                                         </tr>\n                                                   )\n                                                })\n                                             }\n                                             </tbody>\n                                       </table>\n                                    </div>\n                                 )\n                           })\n                        }            \n                     </section>\n               )\n            })  : <section className=\"content\"><div className=\"no-records\">No Records</div></section>\n      )\n   }\n}"]},"metadata":{},"sourceType":"module"}