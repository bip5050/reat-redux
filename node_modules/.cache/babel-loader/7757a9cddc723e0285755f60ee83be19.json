{"ast":null,"code":"import _objectSpread from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{Link}from'react-router-dom';var ForgotPasswordForm=/*#__PURE__*/function(_Component){_inherits(ForgotPasswordForm,_Component);var _super=_createSuper(ForgotPasswordForm);function ForgotPasswordForm(props){var _this;_classCallCheck(this,ForgotPasswordForm);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();var email=_this.email.value;var data={email:email};var validate=_this.validate(data);if(!validate.errors.email&&e.type==\"submit\")_this.props.forgotPassword(data);};_this.validate=function(data){var formData=data||{};var errors=_objectSpread({},_this.state.defaultError);var isError=false;if(!!!formData.email){errors.email=true;isError=true;}else if(!_this.validateEmail(formData.email)){errors.email=true;isError=true;}else{errors.email=false;isError=false;}console.log(\"errors\",errors);_this.setState({defaultError:errors});return{isError:isError,errors:errors};};_this.validateEmail=function(email){var re=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email));};_this.state={msg:'',defaultError:{email:false},isSuccess:null};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ForgotPasswordForm,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.forgotPasswordreset();}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){console.log(\"recive\",props);}},{key:\"render\",value:function render(){var _this2=this;var errors=_objectSpread({},this.state.defaultError);return/*#__PURE__*/React.createElement(\"div\",{className:\"login_p\"},/*#__PURE__*/React.createElement(\"div\",{className:\"log_left forgot-l\"},!!!this.props.isSuccess?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Recover My Password\"),/*#__PURE__*/React.createElement(\"p\",null,\"Enter the email address associated\",/*#__PURE__*/React.createElement(\"br\",null),\" with your account\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{className:\"t-email ltbox \".concat(!!errors.email?' error':''),type:\"text\",ref:function ref(input){return _this2.email=input;},onChange:function onChange(e){return _this2.handleSubmit(e);},placeholder:\"Email address\"/*defaultValue=\"admin\"*/}),this.props.isError?/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-msg\"},this.props.forgotPasswordData.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sbtn_pan\"},/*#__PURE__*/React.createElement(\"button\",{className:\"sbtn\",disabled:!!this.props.isProcessing&&!!errors.email},!!this.props.isProcessing?'Processing....':'Recover My Password')))):/*#__PURE__*/React.createElement(\"div\",{className:\"aftersend\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Recovery Link Sent!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Click on the link sent to \",/*#__PURE__*/React.createElement(\"br\",null),\" your email to recover your password\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sbtn_pan\"},/*#__PURE__*/React.createElement(Link,{className:\"sbtn\",to:\"/login\"},\"Back to Login\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"log_right forgot-r\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/unlock.svg\",alt:\"login_img\"})));}}]);return ForgotPasswordForm;}(Component);ForgotPasswordForm.defaultProps={isFetching:false,isProcessing:false,isError:false,isSuccess:false,states:[],forgotPassword:function forgotPassword(){}};export default withRouter(ForgotPasswordForm);","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/ForgotPassword/forgotPassword.js"],"names":["React","Component","withRouter","Link","ForgotPasswordForm","props","handleSubmit","e","preventDefault","email","value","data","validate","errors","type","forgotPassword","formData","state","defaultError","isError","validateEmail","console","log","setState","re","test","String","msg","isSuccess","bind","forgotPasswordreset","input","forgotPasswordData","message","isProcessing","defaultProps","isFetching","states"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {PropTypes as PT} from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nclass ForgotPasswordForm extends Component{\n   static propTypes = {\n\t\tisProcessing         :  PT.bool,\n\t\tisError              :  PT.bool,\n\t\tisSuccess            :  PT.bool,\n\t\tforgotPasswordData   :  PT.object,\n\t\tforgotPassword       :  PT.func\n\t}\n\n\tstatic defaultProps = {\n\t\tisFetching           :  false,\n\t\tisProcessing         :  false,\n\t\tisError              :  false,\n\t\tisSuccess            :  false,\n\t\tstates               :  [],\n\t\tforgotPassword       :  () => {}\n\t}\n\n   constructor(props){\n      super(props);\n      this.state          =   {\n         msg             :   '',\n         defaultError:{\n            email\t:\tfalse\n         },\n         isSuccess:null,\n      }\n      this.handleSubmit          =  this.handleSubmit.bind(this);\n   }\n    \n   handleSubmit = (e) => {\n      e.preventDefault();\n      const email         =   this.email.value;\n      const data          =   {\n                                 email:email\n                              }\n\n    let validate\t=\tthis.validate(data);\n   if(!validate.errors.email && e.type==\"submit\")\n      this.props.forgotPassword(data);\n   }\n\n\n   validate = (data) => {\n\t\tlet formData\t=\tdata || {};\n\t\tlet errors\t\t=\t{...this.state.defaultError};\n\t\tlet isError\t\t=\tfalse;\n\t\t\n\t\tif(!!!formData.email) {\n\t\t\terrors.email=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      }\n      else if(!this.validateEmail(formData.email)) {\n         errors.email=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      }\n      else {\n         errors.email=\tfalse;\n\t\t\tisError\t\t\t\t=\tfalse;\n      }\n\n      console.log(\"errors\",errors);\n      this.setState({\n         defaultError: errors\n      });\n\t\treturn {isError: isError, errors: errors};\n   }\n\n   validateEmail =(email) =>{\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email));\n  }\n  componentDidMount() {\n       this.props.forgotPasswordreset(); \n  }\n\n  componentWillReceiveProps(props) {\n         console.log(\"recive\",props);\n  }\n\n   render(){\n      let errors\t\t=\t{...this.state.defaultError};\n      return (\n         <div className=\"login_p\">\n           \n            <div className=\"log_left forgot-l\">               \n               {\n                     (!!!this.props.isSuccess) ?  \n                     <div>\n                        <h4>Recover My Password</h4>\n                        <p>Enter the email address associated<br /> with your account</p>\n                        <form onSubmit={this.handleSubmit}>\n                           <div className=\"input-group\">\n                              <input className={`t-email ltbox ${(!!errors.email) ? ' error' : ''}`} type=\"text\" ref={(input) => this.email = input} onChange={(e)=>this.handleSubmit(e)}  placeholder=\"Email address\" /*defaultValue=\"admin\"*/ />\n                              {(this.props.isError) ? <div className=\"invalid-msg\">{this.props.forgotPasswordData.message}</div> :\"\" }\n                           </div>\n                           <div className=\"sbtn_pan\">\n                              <button className=\"sbtn\" disabled={!!this.props.isProcessing && (!!errors.email)}>{(!!this.props.isProcessing) ? 'Processing....' : 'Recover My Password'}</button>\n                           </div>\n                        </form>\n                     </div> : \n                     <div className=\"aftersend\">\n                        <h4>Recovery Link Sent!</h4>\n                        <p>Click on the link sent to <br /> your email to recover your password</p>\n                        <div className=\"sbtn_pan\">\n                           <Link className=\"sbtn\" to='/login'>Back to Login</Link>\n                        </div>\n                     </div>\n               }\n            </div>\n            \n            <div className=\"log_right forgot-r\">\n               <img src=\"/assets/unlock.svg\" alt=\"login_img\" />\n            </div>\n         </div>               \n      )\n   }\n}\nexport default withRouter(ForgotPasswordForm);"]},"metadata":{},"sourceType":"module"}