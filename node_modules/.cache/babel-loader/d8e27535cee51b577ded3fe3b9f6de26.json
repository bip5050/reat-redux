{"ast":null,"code":"import _objectSpread from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Filter/areaFilter.js\";\nimport React, { Component } from 'react';\nimport { sortBy as _sortBy } from 'lodash';\n\nvar AreaFilter = /*#__PURE__*/function (_Component) {\n  _inherits(AreaFilter, _Component);\n\n  var _super = _createSuper(AreaFilter);\n\n  function AreaFilter(props) {\n    var _this;\n\n    _classCallCheck(this, AreaFilter);\n\n    _this = _super.call(this, props);\n\n    _this.handleAreaChange = function (e, data) {\n      _this.setState({\n        areaTxt: ''\n      }, function () {\n        _this.dropdownInput.current.focus();\n      });\n\n      _this.props.handleAreaChange(e, data);\n    };\n\n    _this.onChangeHandle = function (e) {\n      var _this$setState;\n\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"aOpen\", true), _this$setState));\n    };\n\n    _this.handleClick = function (e) {\n      e.stopPropagation();\n\n      if (_this.nodeArea.contains(e.target) || e.target.getAttribute('data') === 'ignore-outer-click') {\n        return;\n      }\n\n      if (!!_this.state.aOpen) {\n        _this.setState({\n          aOpen: false,\n          areaTxt: ''\n        });\n      }\n    };\n\n    _this.handleSelectbox = function () {\n      if (_this.props.states.length === 0) return;\n\n      _this.setState({\n        aOpen: !_this.state.aOpen\n      });\n    };\n\n    _this.state = {\n      areaTxt: '',\n      aOpen: false\n    };\n    _this.dropdownInput = React.createRef();\n    return _this;\n  }\n\n  _createClass(AreaFilter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var areaFilter = this.props.area.map(function (area) {\n        return area.value;\n      });\n      var zones = this.props.zones || {};\n      var stateCodeFilter = this.props.stateCodeFilter || [];\n      var unsortedZoneList = stateCodeFilter.map(function (state) {\n        return {\n          state: state,\n          zones: zones[state]\n        };\n      });\n\n      var zoneList = _sortBy(unsortedZoneList, 'state');\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(nodeArea) {\n          return _this2.nodeArea = nodeArea;\n        },\n        className: \"select-box\".concat(this.state.aOpen ? \" sopen\" : \" \"),\n        onClick: this.handleSelectbox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"s-result \".concat(this.props.states.length === 0 ? \"dis\" : \" \"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        ref: this.dropdownInput,\n        autoComplete: \"off\",\n        disabled: this.props.states.length === 0 ? true : false,\n        placeholder: \"Area\",\n        name: \"areaTxt\",\n        value: this.state.areaTxt,\n        onChange: this.onChangeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"ul\", {\n        className: areaFilter.length > 0 ? 'selected' : '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, (zoneList || []).map(function (item, i) {\n        var zones = item.zones || [];\n        zones = _sortBy(zones, 'delivery_zone_name');\n        return zones.map(function (zone, k) {\n          var index = areaFilter.indexOf(zone.delivery_zone_name);\n          return zone.delivery_zone_name.toLowerCase().includes(_this2.state.areaTxt.toLowerCase()) ? index > -1 ? /*#__PURE__*/React.createElement(\"li\", {\n            key: k,\n            data: \"ignore-outer-click\",\n            onClick: function onClick(e) {\n              return _this2.props.handleRemoveFilter(e, 'Area', index);\n            },\n            className: \"selected\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }\n          }, zone.delivery_zone_name, \" (\", item.state, \")\") : /*#__PURE__*/React.createElement(\"li\", {\n            key: k,\n            data: \"ignore-outer-click\",\n            onClick: function onClick(e) {\n              return _this2.handleAreaChange(e, _objectSpread(_objectSpread({}, zone), {}, {\n                state: item.state\n              }));\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 45\n            }\n          }, zone.delivery_zone_name, \" (\", item.state, \")\") : null;\n        });\n      })));\n    }\n  }]);\n\n  return AreaFilter;\n}(Component);\n\nexport { AreaFilter as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Filter/areaFilter.js"],"names":["React","Component","sortBy","_sortBy","AreaFilter","props","handleAreaChange","e","data","setState","areaTxt","dropdownInput","current","focus","onChangeHandle","name","target","value","handleClick","stopPropagation","nodeArea","contains","getAttribute","state","aOpen","handleSelectbox","states","length","createRef","document","addEventListener","removeEventListener","areaFilter","area","map","zones","stateCodeFilter","unsortedZoneList","zoneList","item","i","zone","k","index","indexOf","delivery_zone_name","toLowerCase","includes","handleRemoveFilter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {sortBy as _sortBy} from 'lodash';\nexport default class AreaFilter extends Component {\n    constructor(props) {\n        super(props);\n        this.state      =   {\n            areaTxt: '',\n            aOpen: false\n        }\n        this.dropdownInput = React.createRef();\n    }   \n\n    handleAreaChange = (e, data) => {\n        this.setState({\n            areaTxt    :   ''\n        }, () => {\n            this.dropdownInput.current.focus();\n        })\n        this.props.handleAreaChange(e, data);\n    }\n  \n    onChangeHandle = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        this.setState({\n            [name]  :   value,\n            aOpen   :   true\n        });\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.handleClick);\n    };\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.handleClick);\n    };\n     \n    handleClick = (e) => {\n        e.stopPropagation();\n        if(this.nodeArea.contains(e.target)\n        || e.target.getAttribute('data') === 'ignore-outer-click'){ return; }\n\t\tif(!!this.state.aOpen) {\n            this.setState({\n                aOpen       :   false,\n                areaTxt     :   ''\n            });\n        }\n    }\n   \n    handleSelectbox = () => {   \n        if (this.props.states.length === 0)\n            return;\n        this.setState({\n            aOpen      :  !this.state.aOpen\n        })\n    }\n\n    render() {\n        let areaFilter = this.props.area.map(area => area.value);\n        let zones                   =   this.props.zones || {};\n        let stateCodeFilter         =   this.props.stateCodeFilter || [];\n        let unsortedZoneList        = stateCodeFilter.map(state => {\n            return { state: state, zones: zones[state] }\n        });\n        let zoneList                  =   _sortBy(unsortedZoneList, 'state');\n        return (\n            <div ref={nodeArea => this.nodeArea = nodeArea} className={`select-box${this.state.aOpen ? \" sopen\" : \" \"}`} onClick={this.handleSelectbox}>\n                <div className={`s-result ${(this.props.states.length === 0) ? \"dis\":\" \"}`}>\n                    <input type=\"text\" ref={this.dropdownInput} autoComplete=\"off\" disabled={(this.props.states.length === 0) ? true : false} placeholder=\"Area\" name=\"areaTxt\" value={this.state.areaTxt} onChange={this.onChangeHandle}/>\n                </div>\n                <ul className={(areaFilter.length > 0) ? 'selected' : ''}>\n                {/* {\n                    (this.props.area.length > 0) ?\n                    this.props.area.map((filter, index) => {\n                        return (\n                            <li key={index + 'filtered'} data='ignore-outer-click' onClick={(e) => this.props.handleRemoveFilter(e, 'Area', index)} className=\"selected\">{filter.label}</li>\n                        )\n                    }) : null\n                } */}\n                {\n                    (zoneList || []).map((item, i) => {  \n                        let zones   =   item.zones || [];\n                        zones       =   _sortBy(zones, 'delivery_zone_name');\n                        return (\n                            zones.map((zone, k) => {\n                            let index   =   areaFilter.indexOf(zone.delivery_zone_name);\n                            return (                                                   \n                                (zone.delivery_zone_name.toLowerCase().includes(this.state.areaTxt.toLowerCase())) ?\n                                    (index > -1) ?\n                                    <li\n                                        key={k}\n                                        data='ignore-outer-click'\n                                        onClick={(e) => this.props.handleRemoveFilter(e, 'Area', index)}\n                                        className='selected'\n                                    >\n                                        {zone.delivery_zone_name} ({item.state})\n                                    </li> : <li\n                                        key={k}\n                                        data='ignore-outer-click'\n                                        onClick={(e) => this.handleAreaChange(e, {...zone, state: item.state})}\n                                    >\n                                        {zone.delivery_zone_name} ({item.state})\n                                    </li>\n                                : null\n                            )\n                            })\n                        )\n                    })\n                }\n                </ul>\n            </div>        \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}