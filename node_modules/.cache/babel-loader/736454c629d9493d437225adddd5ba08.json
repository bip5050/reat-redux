{"ast":null,"code":"import _regeneratorRuntime from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getInfo),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getStores),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(updateProfile),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(changePassword),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(addLocation),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(getUsers),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(addUser),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(editUser),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(deleteUser),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(suspendUser),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(editStore),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(deleteStore),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(watchSettingStore);import*as settingAction from'../actions';import{callApi,callApiV2}from'../../../Helper/api';import*as settingConstant from'../constants';import{takeEvery,put,call,all}from'redux-saga/effects';import{error as notifyerror,success as notifysuccess}from'../../../util/notify';import{setCookie,set as setDomainCookie,getCookie,get as getDomainCookie}from'../../../util/cookies';//Get Setting\nexport function getInfo(action){var payload;return _regeneratorRuntime.wrap(function getInfo$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return call(callApi,'GET','/auth/info');case 3:payload=_context.sent;if(!payload.data.error){_context.next=7;break;}_context.next=7;return put(settingAction.listenGetInfoError());case 7:;if(!payload.data.result){_context.next=11;break;}_context.next=11;return put(settingAction.listenGetInfoSuccess(payload.data.result));case 11:;_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);notifyerror(_context.t0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_marked,null,[[0,14]]);};//Get Stores\nexport function getStores(action){var payload;return _regeneratorRuntime.wrap(function getStores$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(callApi,'GET','/location/all');case 3:payload=_context2.sent;if(!payload.data.error){_context2.next=7;break;}_context2.next=7;return put(settingAction.listenStoresError());case 7:;if(!payload.data.result){_context2.next=11;break;}_context2.next=11;return put(settingAction.listenStoresSuccess(payload.data.result));case 11:;_context2.next=18;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](0);notifyerror(_context2.t0);console.log(_context2.t0.message);case 18:case\"end\":return _context2.stop();}}},_marked2,null,[[0,14]]);};//Update Profile\nexport function updateProfile(action){var payload,userData,updatedData;return _regeneratorRuntime.wrap(function updateProfile$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(callApi,'PUT','auth/profile',action.data);case 3:payload=_context3.sent;if(!payload.data.error){_context3.next=8;break;}notifyerror({message:payload.data.error.message});_context3.next=8;return put(settingAction.listenUpdateProfileError());case 8:;if(!payload.data.result){_context3.next=20;break;}notifysuccess({message:payload.data.result.message});userData=getCookie('foodjets_merchant')||{};updatedData=action.data;userData.first_name=updatedData.first_name;userData.last_name=updatedData.last_name;userData.email=updatedData.email;setCookie(userData,'foodjets_merchant');setDomainCookie(userData);//console.log('User Data : ', userData);  \n_context3.next=20;return put(settingAction.listenUpdateProfileSuccess({}));case 20:;_context3.next=27;break;case 23:_context3.prev=23;_context3.t0=_context3[\"catch\"](0);notifyerror(_context3.t0);console.log(_context3.t0.message);case 27:case\"end\":return _context3.stop();}}},_marked3,null,[[0,23]]);};//Change Password\nexport function changePassword(action){var payload;return _regeneratorRuntime.wrap(function changePassword$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return call(callApi,'PUT','auth/password',action.data);case 3:payload=_context4.sent;if(!payload.data.error){_context4.next=8;break;}notifyerror({message:payload.data.error.message});_context4.next=8;return put(settingAction.listenChangePasswordError());case 8:;if(!payload.data.result){_context4.next=13;break;}notifysuccess({message:payload.data.result.message});_context4.next=13;return put(settingAction.listenChangePasswordSuccess({}));case 13:;_context4.next=20;break;case 16:_context4.prev=16;_context4.t0=_context4[\"catch\"](0);notifyerror(_context4.t0);console.log(_context4.t0.message);case 20:case\"end\":return _context4.stop();}}},_marked4,null,[[0,16]]);};//Add Location\nexport function addLocation(action){var payload;return _regeneratorRuntime.wrap(function addLocation$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return call(callApi,'POST','location',action.data);case 3:payload=_context5.sent;if(!payload.data.error){_context5.next=8;break;}notifyerror({message:payload.data.error.message});_context5.next=8;return put(settingAction.listenAddLocationError());case 8:;if(!payload.data){_context5.next=15;break;}notifysuccess({message:payload.data.message});_context5.next=13;return put(settingAction.listenAddLocationSuccess({}));case 13:_context5.next=15;return put(settingAction.getStores());case 15:;_context5.next=24;break;case 18:_context5.prev=18;_context5.t0=_context5[\"catch\"](0);notifyerror({message:_context5.t0.message});_context5.next=23;return put(settingAction.listenAddLocationError());case 23:console.log(_context5.t0.message);case 24:case\"end\":return _context5.stop();}}},_marked5,null,[[0,18]]);};export function getUsers(action){var payload;return _regeneratorRuntime.wrap(function getUsers$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return call(callApiV2,'GET','auth/user-list',action.data);case 3:payload=_context6.sent;if(!payload.data.error){_context6.next=7;break;}_context6.next=7;return put(settingAction.listenGetUsersError());case 7:;if(!payload.data.result){_context6.next=11;break;}_context6.next=11;return put(settingAction.listenGetUserSuccess(payload.data.result));case 11:;_context6.next=18;break;case 14:_context6.prev=14;_context6.t0=_context6[\"catch\"](0);notifyerror(_context6.t0);console.log(_context6.t0.message);case 18:case\"end\":return _context6.stop();}}},_marked6,null,[[0,14]]);};export function addUser(action){var payload;return _regeneratorRuntime.wrap(function addUser$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return call(callApiV2,'POST','auth/user',action.data);case 3:payload=_context7.sent;if(!payload.data.error){_context7.next=8;break;}notifyerror({message:payload.data.error.message});_context7.next=8;return put(settingAction.listenAddUsersError(payload.data.error.message));case 8:;if(!payload.data.result){_context7.next=13;break;}notifysuccess({message:\"User added sucessfully.\"});_context7.next=13;return put(settingAction.listenAddUserSuccess(payload.data.result));case 13:;_context7.next=20;break;case 16:_context7.prev=16;_context7.t0=_context7[\"catch\"](0);notifyerror(_context7.t0);console.log(_context7.t0.message);case 20:case\"end\":return _context7.stop();}}},_marked7,null,[[0,16]]);};export function editUser(action){var actionId,actionData,payload;return _regeneratorRuntime.wrap(function editUser$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;actionId=action.data.id;actionData=action.data;delete actionData.id;_context8.next=6;return call(callApiV2,'PUT','auth/user/'+actionId,actionData);case 6:payload=_context8.sent;if(!payload.data.error){_context8.next=11;break;}notifyerror({message:payload.data.error.message});_context8.next=11;return put(settingAction.listenEditUsersError(payload.data.error.message));case 11:;if(!payload.data.result){_context8.next=16;break;}notifysuccess({message:\"User updated sucessfully.\"});_context8.next=16;return put(settingAction.listenEditUserSuccess(payload.data.result));case 16:;_context8.next=23;break;case 19:_context8.prev=19;_context8.t0=_context8[\"catch\"](0);notifyerror(_context8.t0);console.log(_context8.t0.message);case 23:case\"end\":return _context8.stop();}}},_marked8,null,[[0,19]]);};export function deleteUser(action){var payload;return _regeneratorRuntime.wrap(function deleteUser$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return call(callApiV2,'DELETE','auth/user/'+action.data);case 3:payload=_context9.sent;if(!payload.data.error){_context9.next=8;break;}notifyerror({message:payload.data.error.message});_context9.next=8;return put(settingAction.listenDeleteUsersError(payload.data.error.message));case 8:;if(!payload.data.result){_context9.next=13;break;}notifysuccess({message:\"User deleted sucessfully.\"});_context9.next=13;return put(settingAction.listenDeleteUserSuccess(payload.data.result));case 13:;_context9.next=20;break;case 16:_context9.prev=16;_context9.t0=_context9[\"catch\"](0);notifyerror(_context9.t0);console.log(_context9.t0.message);case 20:case\"end\":return _context9.stop();}}},_marked9,null,[[0,16]]);};export function suspendUser(action){var actionId,actionData,payload;return _regeneratorRuntime.wrap(function suspendUser$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;actionId=action.data.id;actionData=action.data;delete actionData.id;_context10.next=6;return call(callApiV2,'PUT','auth/user/'+actionId,actionData);case 6:payload=_context10.sent;if(!payload.data.error){_context10.next=11;break;}notifyerror({message:payload.data.error.message});_context10.next=11;return put(settingAction.listenSuspendUsersError());case 11:;if(!payload.data.result){_context10.next=16;break;}notifysuccess({message:\"User suspended sucessfully.\"});_context10.next=16;return put(settingAction.listenSuspendUserSuccess(payload.data.result));case 16:;_context10.next=23;break;case 19:_context10.prev=19;_context10.t0=_context10[\"catch\"](0);notifyerror(_context10.t0);console.log(_context10.t0.message);case 23:case\"end\":return _context10.stop();}}},_marked10,null,[[0,19]]);};export function editStore(action){var actionId,actionData,payload;return _regeneratorRuntime.wrap(function editStore$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;actionId=action.data.id;actionData=action.data;delete actionData.id;//console.log('Data : ', action.data);\n//return false;\n_context11.next=6;return call(callApi,'PUT','location/'+actionId,actionData);case 6:payload=_context11.sent;if(!payload.data.error){_context11.next=11;break;}notifyerror({message:payload.data.error.message});_context11.next=11;return put(settingAction.listenEditStoreError(payload.data.error.message));case 11:;if(!payload.data.result){_context11.next=18;break;}notifysuccess({message:\"Store updated sucessfully.\"});_context11.next=16;return put(settingAction.listenEditStoreSuccess(payload.data.result));case 16:_context11.next=18;return put(settingAction.getStores());case 18:;_context11.next=27;break;case 21:_context11.prev=21;_context11.t0=_context11[\"catch\"](0);_context11.next=25;return put(settingAction.listenEditStoreSuccess());case 25:notifyerror({message:_context11.t0.message});console.log(_context11.t0.message);case 27:case\"end\":return _context11.stop();}}},_marked11,null,[[0,21]]);};export function deleteStore(action){var payload;return _regeneratorRuntime.wrap(function deleteStore$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return call(callApi,'DELETE','location/'+action.data);case 3:payload=_context12.sent;if(!payload.data.error){_context12.next=8;break;}notifyerror({message:payload.data.error.message});_context12.next=8;return put(settingAction.listenDeleteStoreError(payload.data.error.message));case 8:;if(!payload.data.result){_context12.next=15;break;}notifysuccess({message:\"Store deleted sucessfully.\"});_context12.next=13;return put(settingAction.listenDeleteStoreSuccess(payload.data.result));case 13:_context12.next=15;return put(settingAction.getStores());case 15:;_context12.next=22;break;case 18:_context12.prev=18;_context12.t0=_context12[\"catch\"](0);notifyerror(_context12.t0);console.log(_context12.t0.message);case 22:case\"end\":return _context12.stop();}}},_marked12,null,[[0,18]]);};export function watchSettingStore(){return _regeneratorRuntime.wrap(function watchSettingStore$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_context13.next=3;return takeEvery(settingConstant.GET_INFO,getInfo);case 3:_context13.next=5;return takeEvery(settingConstant.GET_STORES,getStores);case 5:_context13.next=7;return takeEvery(settingConstant.GET_USER,getUsers);case 7:_context13.next=9;return takeEvery(settingConstant.ADD_USER,addUser);case 9:_context13.next=11;return takeEvery(settingConstant.EDIT_USER,editUser);case 11:_context13.next=13;return takeEvery(settingConstant.DELETE_USER,deleteUser);case 13:_context13.next=15;return takeEvery(settingConstant.SUSPEND_USER,suspendUser);case 15:_context13.next=17;return takeEvery(settingConstant.UPDATE_PROFILE,updateProfile);case 17:_context13.next=19;return takeEvery(settingConstant.CHANGE_PASS,changePassword);case 19:_context13.next=21;return takeEvery(settingConstant.ADD_LOCATION,addLocation);case 21:_context13.next=23;return takeEvery(settingConstant.EDIT_STORE,editStore);case 23:_context13.next=25;return takeEvery(settingConstant.DELETE_STORE,deleteStore);case 25:_context13.next=30;break;case 27:_context13.prev=27;_context13.t0=_context13[\"catch\"](0);console.log(_context13.t0);case 30:case\"end\":return _context13.stop();}}},_marked13,null,[[0,27]]);};","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Settings/Saga/index.js"],"names":["getInfo","getStores","updateProfile","changePassword","addLocation","getUsers","addUser","editUser","deleteUser","suspendUser","editStore","deleteStore","watchSettingStore","settingAction","callApi","callApiV2","settingConstant","takeEvery","put","call","all","error","notifyerror","success","notifysuccess","setCookie","set","setDomainCookie","getCookie","get","getDomainCookie","action","payload","data","listenGetInfoError","result","listenGetInfoSuccess","console","log","message","listenStoresError","listenStoresSuccess","listenUpdateProfileError","userData","updatedData","first_name","last_name","email","listenUpdateProfileSuccess","listenChangePasswordError","listenChangePasswordSuccess","listenAddLocationError","listenAddLocationSuccess","listenGetUsersError","listenGetUserSuccess","listenAddUsersError","listenAddUserSuccess","actionId","id","actionData","listenEditUsersError","listenEditUserSuccess","listenDeleteUsersError","listenDeleteUserSuccess","listenSuspendUsersError","listenSuspendUserSuccess","listenEditStoreError","listenEditStoreSuccess","listenDeleteStoreError","listenDeleteStoreSuccess","GET_INFO","GET_STORES","GET_USER","ADD_USER","EDIT_USER","DELETE_USER","SUSPEND_USER","UPDATE_PROFILE","CHANGE_PASS","ADD_LOCATION","EDIT_STORE","DELETE_STORE"],"mappings":"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","sourcesContent":["import * as settingAction from '../actions';\nimport {callApi, callApiV2} from '../../../Helper/api';\nimport * as settingConstant from '../constants';\nimport { takeEvery, put, call, all } from 'redux-saga/effects';\nimport {error as notifyerror, success as notifysuccess} from '../../../util/notify';\nimport {setCookie, set as setDomainCookie, getCookie, get as getDomainCookie} from '../../../util/cookies';\n\n//Get Setting\nexport function* getInfo(action){\n    try {\n        const payload = yield call(callApi, 'GET', '/auth/info');\n\n        // check for error\n        if(payload.data.error){\n            yield put(settingAction.listenGetInfoError());\n        };\n\n        if(payload.data.result){\n            yield put(settingAction.listenGetInfoSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\n\n//Get Stores\nexport function* getStores(action){\n    try {\n        const payload = yield call(callApi, 'GET', '/location/all');\n\n        // check for error\n        if(payload.data.error){\n            yield put(settingAction.listenStoresError());\n        };\n\n        if(payload.data.result){\n            yield put(settingAction.listenStoresSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\n//Update Profile\nexport function* updateProfile(action){\n    try {\n        const payload = yield call(callApi, 'PUT', 'auth/profile', action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenUpdateProfileError());\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: payload.data.result.message})\n            let userData        =   getCookie('foodjets_merchant') || {};\n            let updatedData     =   action.data;\n            userData.first_name =   updatedData.first_name;\n            userData.last_name  =   updatedData.last_name;\n            userData.email      =   updatedData.email;\n            setCookie(userData, 'foodjets_merchant');\n            setDomainCookie(userData);\n            //console.log('User Data : ', userData);  \n            yield put(settingAction.listenUpdateProfileSuccess({}));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\n//Change Password\nexport function* changePassword(action){\n    try {\n        //yield put(settingAction.listenAddLocation({}));\n\n        const payload = yield call(callApi, 'PUT', 'auth/password', action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenChangePasswordError());\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: payload.data.result.message})\n            yield put(settingAction.listenChangePasswordSuccess({}));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\n//Add Location\nexport function* addLocation(action){\n    try {\n        const payload = yield call(callApi, 'POST', 'location', action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenAddLocationError());\n        };\n\n        if(payload.data){\n            notifysuccess({message: payload.data.message})\n            yield put(settingAction.listenAddLocationSuccess({}));\n            yield put(settingAction.getStores());\n        };\n    } catch (e) {\n        notifyerror({message: e.message});\n        yield put(settingAction.listenAddLocationError());\n        console.log(e.message);\n    }\n};\n\nexport function* getUsers(action){\n    try {\n        const payload = yield call(callApiV2, 'GET', 'auth/user-list', action.data);\n\n        // check for error\n        if(payload.data.error){\n            yield put(settingAction.listenGetUsersError());\n        };\n\n        if(payload.data.result){\n            yield put(settingAction.listenGetUserSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* addUser(action){\n    try {\n        const payload = yield call(callApiV2, 'POST', 'auth/user', action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenAddUsersError(payload.data.error.message));\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"User added sucessfully.\"});\n            yield put(settingAction.listenAddUserSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* editUser(action){\n    try {\n        let actionId = action.data.id;\n        let actionData = action.data;\n\n        delete actionData.id;\n        const payload = yield call(callApiV2, 'PUT', 'auth/user/'+actionId, actionData);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenEditUsersError(payload.data.error.message));\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"User updated sucessfully.\"});\n            yield put(settingAction.listenEditUserSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* deleteUser(action){\n    try {\n        const payload = yield call(callApiV2, 'DELETE', 'auth/user/'+action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenDeleteUsersError(payload.data.error.message));\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"User deleted sucessfully.\"});\n            yield put(settingAction.listenDeleteUserSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* suspendUser(action){\n    try {\n        let actionId = action.data.id;\n        let actionData = action.data;\n\n        delete actionData.id;\n        const payload = yield call(callApiV2, 'PUT', 'auth/user/'+actionId, actionData);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenSuspendUsersError());\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"User suspended sucessfully.\"});\n            yield put(settingAction.listenSuspendUserSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* editStore(action){\n    try {\n        let actionId = action.data.id;\n        let actionData = action.data;\n\n        delete actionData.id;\n        //console.log('Data : ', action.data);\n        //return false;\n        const payload = yield call(callApi, 'PUT', 'location/'+actionId, actionData);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenEditStoreError(payload.data.error.message));\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"Store updated sucessfully.\"});\n            yield put(settingAction.listenEditStoreSuccess(payload.data.result));\n            yield put(settingAction.getStores());\n        };\n    } catch (e) {\n        yield put(settingAction.listenEditStoreSuccess());\n        notifyerror({message: e.message});\n        console.log(e.message);\n    }\n};\n\nexport function* deleteStore(action){\n    try {\n        //console.log('Action Data : ', action);\n        //return false;\n        const payload = yield call(callApi, 'DELETE', 'location/'+action.data);\n\n        // check for error\n        if(payload.data.error){\n            notifyerror({message: payload.data.error.message});\n            yield put(settingAction.listenDeleteStoreError(payload.data.error.message));\n        };\n\n        if(payload.data.result){\n            notifysuccess({message: \"Store deleted sucessfully.\"});\n            yield put(settingAction.listenDeleteStoreSuccess(payload.data.result));\n            yield put(settingAction.getStores());\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* watchSettingStore() {\n    try{\n        yield takeEvery( settingConstant.GET_INFO, getInfo );\n        yield takeEvery( settingConstant.GET_STORES, getStores );\n        yield takeEvery( settingConstant.GET_USER, getUsers );\n        yield takeEvery( settingConstant.ADD_USER, addUser );\n        yield takeEvery( settingConstant.EDIT_USER, editUser );\n        yield takeEvery( settingConstant.DELETE_USER, deleteUser );\n        yield takeEvery( settingConstant.SUSPEND_USER, suspendUser );\n        yield takeEvery( settingConstant.UPDATE_PROFILE, updateProfile );\n        yield takeEvery( settingConstant.CHANGE_PASS, changePassword );\n        yield takeEvery( settingConstant.ADD_LOCATION, addLocation );\n        yield takeEvery( settingConstant.EDIT_STORE, editStore );\n        yield takeEvery( settingConstant.DELETE_STORE, deleteStore );\n    } catch(e){\n        console.log(e)\n    }\n};"]},"metadata":{},"sourceType":"module"}