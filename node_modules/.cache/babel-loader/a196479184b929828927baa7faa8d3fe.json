{"ast":null,"code":"import _objectSpread from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getSummary),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getFeedback),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(feedbackSearch),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(reply),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(watchFeedbackStore);import*as feedbackAction from'../actions';import*as headerAction from'../../Header/actions';import{callApiV2}from'../../../Helper/api';import*as feedbackConstant from'../constants';import{takeEvery,put,call,all}from'redux-saga/effects';import{error as notifyerror,success as notifysuccess,inform as notifyinform}from'../../../util/notify';//Get Feedback\nexport function getSummary(action){var payload;return _regeneratorRuntime.wrap(function getSummary$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return call(callApiV2,'POST','feedback/summary',action.data);case 3:payload=_context.sent;if(!payload.data.error){_context.next=7;break;}_context.next=7;return put(feedbackAction.listenGetSummeryError());case 7:;if(!payload.data.result){_context.next=11;break;}_context.next=11;return put(feedbackAction.listenGetSummerySuccess(payload.data.result));case 11:;_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);notifyerror(_context.t0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_marked,null,[[0,14]]);};export function getFeedback(action){var data,payload;return _regeneratorRuntime.wrap(function getFeedback$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;//console.log('Action Data : ', action.data);\ndata=_objectSpread(_objectSpread({},action.data),{},{filter:{key:'feedback',value:JSON.stringify(action.data.filter)}});_context2.next=4;return put(headerAction.syncFilter({key:'feedback',value:action.data.filter}));case 4:_context2.next=6;return call(callApiV2,'POST','feedback/list',data);case 6:payload=_context2.sent;if(!payload.data.error){_context2.next=10;break;}_context2.next=10;return put(feedbackAction.listenGetFeedbackError());case 10:;if(!payload.data.result){_context2.next=14;break;}_context2.next=14;return put(feedbackAction.listenGetFeedbackSuccess(payload.data.result));case 14:;_context2.next=21;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](0);notifyerror(_context2.t0);console.log(_context2.t0.message);case 21:case\"end\":return _context2.stop();}}},_marked2,null,[[0,17]]);};export function feedbackSearch(action){var payload;return _regeneratorRuntime.wrap(function feedbackSearch$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(callApiV2,'POST','feedback/search',action.data);case 3:payload=_context3.sent;if(!payload.data.error){_context3.next=7;break;}_context3.next=7;return put(feedbackAction.listenFeedbackSearchError());case 7:;if(!payload.data.result){_context3.next=11;break;}_context3.next=11;return put(feedbackAction.listenFeedbackSearchSuccess(payload.data.result));case 11:;_context3.next=18;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);notifyerror(_context3.t0);console.log(_context3.t0.message);case 18:case\"end\":return _context3.stop();}}},_marked3,null,[[0,14]]);};export function reply(action){var payload,replyData;return _regeneratorRuntime.wrap(function reply$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return call(callApiV2,'POST','feedback/reply',action.data);case 3:payload=_context4.sent;if(!payload.data.error){_context4.next=7;break;}_context4.next=7;return put(feedbackAction.replyError());case 7:;if(!payload.data.result){_context4.next=15;break;}replyData=_objectSpread({},payload.data.result);replyData.task_id=action.data.task_id;replyData.order_number=action.data.order_number;_context4.next=14;return put(feedbackAction.replySuccess(replyData));case 14:notifyinform({message:\"Email sent sucessfully.\"});case 15:;_context4.next=22;break;case 18:_context4.prev=18;_context4.t0=_context4[\"catch\"](0);notifyerror(_context4.t0);console.log(_context4.t0.message);case 22:case\"end\":return _context4.stop();}}},_marked4,null,[[0,18]]);};export function watchFeedbackStore(){return _regeneratorRuntime.wrap(function watchFeedbackStore$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return takeEvery(feedbackConstant.REPLY,reply);case 3:_context5.next=5;return takeEvery(feedbackConstant.GET_SUMMERY,getSummary);case 5:_context5.next=7;return takeEvery(feedbackConstant.GET_FEEDBACK,getFeedback);case 7:_context5.next=9;return takeEvery(feedbackConstant.FEEDBACK_SEARCH,feedbackSearch);case 9:_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 14:case\"end\":return _context5.stop();}}},_marked5,null,[[0,11]]);};","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Feedbacks/Saga/index.js"],"names":["getSummary","getFeedback","feedbackSearch","reply","watchFeedbackStore","feedbackAction","headerAction","callApiV2","feedbackConstant","takeEvery","put","call","all","error","notifyerror","success","notifysuccess","inform","notifyinform","action","data","payload","listenGetSummeryError","result","listenGetSummerySuccess","console","log","message","filter","key","value","JSON","stringify","syncFilter","listenGetFeedbackError","listenGetFeedbackSuccess","listenFeedbackSearchError","listenFeedbackSearchSuccess","replyError","replyData","task_id","order_number","replySuccess","REPLY","GET_SUMMERY","GET_FEEDBACK","FEEDBACK_SEARCH"],"mappings":"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","sourcesContent":["import * as feedbackAction from '../actions';\nimport * as headerAction from '../../Header/actions';\nimport {callApiV2} from '../../../Helper/api';\nimport * as feedbackConstant from '../constants';\nimport { takeEvery, put, call, all } from 'redux-saga/effects';\nimport {error as notifyerror, success as notifysuccess, inform as notifyinform} from '../../../util/notify';\n\n//Get Feedback\nexport function* getSummary(action){\n    try {\n        const payload = yield call(callApiV2, 'POST', 'feedback/summary', action.data);\n\n        // check for error\n        if(payload.data.error){\n            yield put(feedbackAction.listenGetSummeryError());\n        };\n\n        if(payload.data.result){\n            yield put(feedbackAction.listenGetSummerySuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* getFeedback(action){\n    try {\n        //console.log('Action Data : ', action.data);\n        let data    =   {\n            ...action.data,\n            filter: {\n                key: 'feedback',\n                value: JSON.stringify(action.data.filter)\n            }\n        }\n        yield put(headerAction.syncFilter({key: 'feedback', value: action.data.filter}));\n        const payload = yield call(callApiV2, 'POST', 'feedback/list', data);\n\n        // check for error\n        if(payload.data.error){\n            yield put(feedbackAction.listenGetFeedbackError());\n        };\n\n        if(payload.data.result){\n            yield put(feedbackAction.listenGetFeedbackSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* feedbackSearch(action){\n    try {\n        const payload = yield call(callApiV2, 'POST', 'feedback/search', action.data);\n\n        // check for error\n        if(payload.data.error){\n            yield put(feedbackAction.listenFeedbackSearchError());\n        };\n\n        if(payload.data.result){\n            yield put(feedbackAction.listenFeedbackSearchSuccess(payload.data.result));\n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* reply(action){\n    try {\n        const payload = yield call(callApiV2, 'POST', 'feedback/reply', action.data);\n\n        // check for error\n        if(payload.data.error){\n            yield put(feedbackAction.replyError());\n        };\n\n        if(payload.data.result){\n            let replyData = {...payload.data.result};\n            replyData.task_id = action.data.task_id;\n            replyData.order_number = action.data.order_number;\n            yield put(feedbackAction.replySuccess(replyData));\n            notifyinform({message: \"Email sent sucessfully.\"});  \n        };\n    } catch (e) {\n        notifyerror(e);\n        console.log(e.message);\n    }\n};\n\nexport function* watchFeedbackStore() {\n    try{\n        yield takeEvery( feedbackConstant.REPLY, reply );\n        yield takeEvery( feedbackConstant.GET_SUMMERY, getSummary );\n        yield takeEvery( feedbackConstant.GET_FEEDBACK, getFeedback );\n        yield takeEvery( feedbackConstant.FEEDBACK_SEARCH, feedbackSearch );\n    } catch(e){\n        console.log(e)\n    }\n};"]},"metadata":{},"sourceType":"module"}