{"ast":null,"code":"import _objectSpread from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Filter/locationDropdown.js\";\nimport React, { Component } from 'react';\nimport { sortBy as _sortBy } from 'lodash';\n\nvar LocationDropdown = /*#__PURE__*/function (_Component) {\n  _inherits(LocationDropdown, _Component);\n\n  var _super = _createSuper(LocationDropdown);\n\n  function LocationDropdown(props) {\n    var _this;\n\n    _classCallCheck(this, LocationDropdown);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeHandle = function (e) {\n      var _this$setState;\n\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"lOpen\", true), _this$setState));\n    };\n\n    _this.handleClick = function (e) {\n      e.stopPropagation();\n\n      if (_this.nodeAddress.contains(e.target) || e.target.getAttribute('data') === 'ignore-outer-click') {\n        return;\n      }\n\n      if (!!_this.state.lOpen) {\n        _this.setState({\n          lOpen: false,\n          locationTxt: _this.state.selLocaTxt\n        });\n      }\n    };\n\n    _this.handleSelectbox = function () {\n      _this.setState({\n        lOpen: !_this.state.lOpen,\n        locationTxt: !!_this.state.lOpen ? _this.state.selLocaTxt : ''\n      }); //this.onChangeHandle     =   this.onChangeHandle.bind(this);\n\n    };\n\n    _this.state = {\n      locationTxt: '',\n      selLocaTxt: '',\n      lOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(LocationDropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var selId = props.selected || '';\n\n      if (!!selId && selId > 0) {\n        var selectedIndex = (props.locations || []).findIndex(function (item) {\n          return item.id === selId;\n        });\n        var selectedLocation = props.locations[selectedIndex].label;\n        this.setState({\n          locationTxt: selectedLocation,\n          selLocaTxt: selectedLocation\n        });\n      } else {\n        this.setState({\n          selLocaTxt: ''\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var unsortedLocations = this.props.locations || [];\n\n      var locations = _sortBy(unsortedLocations, 'label');\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(nodeAddress) {\n          return _this2.nodeAddress = nodeAddress;\n        },\n        className: \"select-box\".concat(this.state.lOpen ? \" sopen\" : \" \"),\n        onClick: this.handleSelectbox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"s-result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: this.props.className,\n        autoComplete: \"text\",\n        placeholder: \"Address\",\n        name: \"locationTxt\",\n        value: this.state.locationTxt,\n        onChange: this.onChangeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 43\n        }\n      })), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, locations.map(function (location, i) {\n        return location.label.toLowerCase().includes(_this2.state.locationTxt.toLowerCase()) ? /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          data: \"ignore-outer-click\",\n          onClick: function onClick(e) {\n            return _this2.props.handleLocationChange(_objectSpread({}, location), i);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }\n        }, location.label) : null;\n      })));\n    }\n  }]);\n\n  return LocationDropdown;\n}(Component);\n\nexport { LocationDropdown as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Filter/locationDropdown.js"],"names":["React","Component","sortBy","_sortBy","LocationDropdown","props","onChangeHandle","e","name","target","value","setState","handleClick","stopPropagation","nodeAddress","contains","getAttribute","state","lOpen","locationTxt","selLocaTxt","handleSelectbox","document","addEventListener","removeEventListener","selId","selected","selectedIndex","locations","findIndex","item","id","selectedLocation","label","unsortedLocations","className","map","location","i","toLowerCase","includes","handleLocationChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {sortBy as _sortBy} from 'lodash';\nexport default class LocationDropdown extends Component {\n    constructor(props) {\n        super(props);\n        this.state      =   {\n            locationTxt: '',\n            selLocaTxt: '',\n            lOpen: false\n        }\n    }   \n  \n    onChangeHandle = (e) => {\n       const name = e.target.name;\n       const value = e.target.value;\n       this.setState({\n           [name]   :   value,\n           lOpen   :   true\n        });\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.handleClick);\n    };\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.handleClick);\n    };\n     \n    handleClick = (e) => {\n        e.stopPropagation();\n        if(this.nodeAddress.contains(e.target)\n        || e.target.getAttribute('data') === 'ignore-outer-click'){ return; }\n\t\tif(!!this.state.lOpen) {\n            this.setState({\n                lOpen       :   false,\n                locationTxt :   this.state.selLocaTxt\n            });\n        }\n    }\n   \n    handleSelectbox = () => {\n        this.setState({\n            lOpen      :  !this.state.lOpen,\n            locationTxt :   (!!this.state.lOpen) ? this.state.selLocaTxt : ''\n        })\n        //this.onChangeHandle     =   this.onChangeHandle.bind(this);\n    }\n\n    componentWillReceiveProps(props) {\n        let selId           =   props.selected || '';     \n        if(!!selId && selId > 0) {\n            let selectedIndex       =   (props.locations || []).findIndex(item => item.id === selId)\n            let selectedLocation    =   props.locations[selectedIndex].label;\n            this.setState({\n                locationTxt :   selectedLocation,\n                selLocaTxt  :   selectedLocation\n            })\n        } else {\n            this.setState({\n                selLocaTxt : ''\n            })\n        }\n    }\n\n    render() {\n        let unsortedLocations       =   this.props.locations || [];\n        let locations               =   _sortBy(unsortedLocations, 'label');\n        return (\n            <div ref={nodeAddress => this.nodeAddress = nodeAddress} className={`select-box${this.state.lOpen ? \" sopen\" : \" \"}`} onClick={this.handleSelectbox}>\n                <div className=\"s-result\"><input type=\"text\" className={this.props.className} autoComplete=\"text\" placeholder=\"Address\" name=\"locationTxt\" value={this.state.locationTxt} onChange={this.onChangeHandle}/></div>\n                <ul>\n                {\n                    locations.map((location, i) => {\n                        return (\n                            (location.label.toLowerCase().includes(this.state.locationTxt.toLowerCase())) ?\n                            <li key={i} data='ignore-outer-click' onClick={(e) => this.props.handleLocationChange({...location}, i)}>{location.label}</li> : null\n                        )\n                    })\n                }\n                </ul>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}