{"ast":null,"code":"import _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/components/Calendar/calendar.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { isEmpty, isEqual, map as _map } from 'lodash';\nimport moment from 'moment-timezone';\nimport './calendar.css';\n\nvar Calendar = /*#__PURE__*/function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar(props) {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeHandle = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value), function () {});\n    };\n\n    _this.state = {\n      month: '',\n      year: '',\n      show: false,\n      noofdays: ''\n    };\n    _this.monthName = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    _this.weekDaysArr = [];\n    _this.getMonthDays = _this.getMonthDays.bind(_assertThisInitialized(_this));\n    _this.prevMonth = _this.prevMonth.bind(_assertThisInitialized(_this));\n    _this.nextMonth = _this.nextMonth.bind(_assertThisInitialized(_this));\n    _this.selectDate = _this.selectDate.bind(_assertThisInitialized(_this));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleDateRange = _this.handleDateRange.bind(_assertThisInitialized(_this));\n    _this.outerClick = _this.outerClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var date = new Date();\n      var month = date.getMonth();\n      var year = date.getFullYear();\n      var calendar = this.getMonthDays(month, year);\n      this.setState({\n        month: month,\n        year: year,\n        calendar: calendar\n      }, function () {});\n      document.addEventListener('click', this.outerClick);\n    }\n  }, {\n    key: \"outerClick\",\n    value: function outerClick(e) {\n      e.stopPropagation();\n\n      if (!!this.state.show && !this.node.contains(e.target) && e.target.getAttribute('data') !== 'ignore-outer-click') {\n        this.setState({\n          show: false\n        });\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      this.setState({\n        show: !this.state.show\n      });\n    }\n  }, {\n    key: \"handleDateRange\",\n    value: function handleDateRange(days, type) {\n      var endDate = moment();\n      var startDate = moment().subtract(days - 1, \"days\"); //console.log('Date Range : ', days, startDate.format('YYYY-MM-DD'), endDate.format('YYYY-MM-DD'));\n\n      this.props.onDateRange({\n        startDate: startDate.format('YYYY-MM-DD'),\n        endDate: endDate.format('YYYY-MM-DD'),\n        noofdays: type === 'Custom' ? days : ''\n      });\n    }\n  }, {\n    key: \"selectDate\",\n    value: function selectDate(date, month, week) {\n      var year = this.state.year;\n      var fulldate = moment(\"\".concat(year, \"-\").concat(month + 1, \"-\").concat(date)).format('YYYY-MM-DD'); //console.log(date, month, week, fulldate);\n\n      this.props.onSelectDate(fulldate);\n    }\n  }, {\n    key: \"getMonthDays\",\n    value: function getMonthDays(month, year) {\n      var selWeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var firstDate = new Date(year, month, 1);\n      var firstDay = firstDate.getDay();\n      var weekFirstDate = new Date(firstDate.setDate(firstDate.getDate() - firstDay));\n      var date = weekFirstDate;\n      var lastDate = new Date(year, month + 1, 0);\n      var lastDay = lastDate.getDay();\n      var weekLastDate = new Date(lastDate.setDate(lastDate.getDate() + (6 - lastDay)));\n      var days = [];\n      var today = new Date();\n\n      while (date.getTime() <= weekLastDate.getTime()) {\n        var chkCurrDate = false;\n\n        if (date.getDate() === new Date(date.getTime()).getDate().toString() && today.getMonth() === new Date(date.getTime()).getMonth() && today.getFullYear() === new Date(date.getTime()).getFullYear()) {\n          chkCurrDate = true;\n        }\n\n        days.push({\n          date: date.getDate(),\n          month: date.getMonth(),\n          year: date.getFullYear(),\n          day: this.weekDaysArr[date.getDay()],\n          fulldate: moment(date.getTime()).format('YYYY-MM-DD'),\n          currentDate: chkCurrDate\n        });\n        date.setDate(date.getDate() + 1);\n      }\n\n      var i,\n          j,\n          chunk = 7;\n      var calendarArr = [];\n\n      for (i = 0, j = days.length; i < j; i += chunk) {\n        var arr = days.slice(i, i + chunk);\n        calendarArr.push(arr);\n      }\n\n      var currentWeek = 0;\n\n      if (selWeek === '') {\n        calendarArr.forEach(function (dateArr, k) {\n          if (dateArr.some(function (date) {\n            return date.date === today.getDate() && date.month === today.getMonth();\n          })) currentWeek = k;\n        });\n      } else {\n        currentWeek = selWeek;\n      }\n\n      return {\n        allDays: calendarArr,\n        month: this.monthName[month],\n        year: year,\n        currentWeek: currentWeek\n      };\n    }\n  }, {\n    key: \"prevMonth\",\n    value: function prevMonth() {\n      var week = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var month = this.state.month;\n      var year = this.state.year;\n\n      if (this.state.month === 0) {\n        month = 11;\n        year = year - 1;\n      } else {\n        month = month - 1;\n        year = year;\n      }\n\n      var calendar = this.getMonthDays(month, year, week);\n      this.setState({\n        month: month,\n        year: year,\n        calendar: calendar\n      });\n    }\n  }, {\n    key: \"nextMonth\",\n    value: function nextMonth() {\n      var week = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var month = this.state.month;\n      var year = this.state.year;\n\n      if (month === 11) {\n        month = 0;\n        year = year + 1;\n      } else {\n        month = month + 1;\n        year = year;\n      }\n\n      var calendar = this.getMonthDays(month, year, week);\n      this.setState({\n        month: month,\n        year: year,\n        calendar: calendar\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (this.props.selectDate !== props.selectDate) {\n        var date = new Date(props.selectDate);\n        var month = date.getMonth();\n        var year = date.getFullYear();\n        var calendar = this.getMonthDays(month, year);\n        this.setState({\n          month: month,\n          year: year,\n          calendar: calendar\n        }, function () {});\n      }\n\n      if (this.state.noofdays !== props.noofdays) {\n        this.setState({\n          noofdays: props.noofdays\n        });\n      }\n      /* this.setState({\n         //show: false\n      }) */\n\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.outerClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var calendar = this.state.calendar || {};\n      var selectDate = this.props.selectDate || '';\n      var startDate = this.props.startDate || '';\n      var currTimestamp = !!startDate ? moment(startDate).format('X') : '';\n      var endDate = this.props.endDate || '';\n      var endTimestamp = !!endDate ? moment(endDate).format('X') : '';\n      var tillDate = this.props.tillDate || '';\n      var tillTimestamp = !!tillDate ? moment(tillDate).format('X') : '';\n      var noofdays = this.props.noofdays || '';\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(node) {\n          return _this2.node = node;\n        },\n        className: !this.state.show ? '' : 'cOpen ',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: this.props.className,\n        placeholder: this.props.placeholder,\n        value: selectDate,\n        readOnly: true,\n        onClick: this.handleClick,\n        disabled: !!this.props.disabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: !this.state.show ? 'calendar hide' : 'calendar ',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        colSpan: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 22\n        }\n      }, calendar.month, \" \", calendar.year), /*#__PURE__*/React.createElement(\"th\", {\n        colSpan: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"aro_sec\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: this.prevMonth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/chevron_right.svg\",\n        alt: \"left_arrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 56\n        }\n      })), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n        onClick: this.nextMonth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/chevron-right.svg\",\n        alt: \"right_arrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 56\n        }\n      })))))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"blue_bg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 22\n        }\n      }, \"SU\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 22\n        }\n      }, \"MO\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 22\n        }\n      }, \"TU\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 22\n        }\n      }, \"WE\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 22\n        }\n      }, \"TH\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 22\n        }\n      }, \"FR\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: \"14.285%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 22\n        }\n      }, \"SA\")), !!calendar.allDays && calendar.allDays.length > 0 ? calendar.allDays.map(function (week, k) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: k,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 28\n          }\n        }, week.map(function (days, i) {\n          var timestamp = moment(days.fulldate).format('X');\n          var clsName = ''; //console.log(tillDate);\n\n          if (currTimestamp == timestamp) clsName = 'select start';\n          if (!!endTimestamp && timestamp < endTimestamp && currTimestamp < timestamp) clsName = 'select range';\n          if (!!endTimestamp && timestamp == endTimestamp && currTimestamp < timestamp) clsName = 'select end';\n          return !!tillTimestamp && tillTimestamp < timestamp ? /*#__PURE__*/React.createElement(\"td\", {\n            key: i,\n            align: \"center\",\n            className: \"disabled\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 37\n            }\n          }, days.date) : /*#__PURE__*/React.createElement(\"td\", {\n            key: i,\n            align: \"center\",\n            className: clsName,\n            onClick: function onClick() {\n              return _this2.selectDate(days.date, days.month, k);\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 45\n            }\n          }, days.date);\n        }));\n      }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cus_last_date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 22\n        }\n      }, \"Date Range\"), /*#__PURE__*/React.createElement(\"li\", {\n        onClick: function onClick() {\n          return _this2.handleDateRange(7, '');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 22\n        }\n      }, \"Last 7 days\"), /*#__PURE__*/React.createElement(\"li\", {\n        onClick: function onClick() {\n          return _this2.handleDateRange(30, '');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 22\n        }\n      }, \"Last 30 days\"), /*#__PURE__*/React.createElement(\"li\", {\n        onClick: function onClick() {\n          return _this2.handleDateRange(90, '');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 22\n        }\n      }, \"Last 90 days\"), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"d_flex_n\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 22\n        }\n      }, \"Last \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        size: \"20\",\n        value: this.state.noofdays,\n        name: \"noofdays\",\n        onChange: this.onChangeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 30\n        }\n      }), \" days\", !!this.state.noofdays && this.state.noofdays !== noofdays ? /*#__PURE__*/React.createElement(\"a\", {\n        data: \"ignore-outer-click\",\n        onClick: function onClick() {\n          return _this2.handleDateRange(_this2.state.noofdays, 'Custom');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        data: \"ignore-outer-click\",\n        src: \"/assets/checkmark_blue.svg\",\n        alt: \"check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 31\n        }\n      })) : !!noofdays && !!this.state.noofdays ? /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/checkmark_blue.svg\",\n        className: \"blackCheck\",\n        alt: \"check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 28\n        }\n      }) : null)))));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport { Calendar as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/components/Calendar/calendar.js"],"names":["React","Component","Link","isEmpty","isEqual","map","_map","moment","Calendar","props","onChangeHandle","e","name","target","value","setState","state","month","year","show","noofdays","monthName","weekDaysArr","getMonthDays","bind","prevMonth","nextMonth","selectDate","handleClick","handleDateRange","outerClick","date","Date","getMonth","getFullYear","calendar","document","addEventListener","stopPropagation","node","contains","getAttribute","days","type","endDate","startDate","subtract","onDateRange","format","week","fulldate","onSelectDate","selWeek","firstDate","firstDay","getDay","weekFirstDate","setDate","getDate","lastDate","lastDay","weekLastDate","today","getTime","chkCurrDate","toString","push","day","currentDate","i","j","chunk","calendarArr","length","arr","slice","currentWeek","forEach","dateArr","k","some","allDays","removeEventListener","currTimestamp","endTimestamp","tillDate","tillTimestamp","className","placeholder","disabled","timestamp","clsName"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport { isEmpty, isEqual, map as _map } from 'lodash';\nimport moment from 'moment-timezone';\nimport './calendar.css';\n\nexport default class Calendar extends Component {\n   constructor(props) {\n      super(props);\n      this.state                                =  {\n         month                    :   '',\n         year                     :   '',\n         show              :  false,\n         noofdays          :  ''\n      }\n      this.monthName          =   ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n      this.weekDaysArr        =  [];\n      this.getMonthDays       =  this.getMonthDays.bind(this);\n      this.prevMonth          =  this.prevMonth.bind(this);\n      this.nextMonth          =  this.nextMonth.bind(this);\n      this.selectDate         =  this.selectDate.bind(this);\n      this.handleClick        =  this.handleClick.bind(this);\n      this.handleDateRange    =  this.handleDateRange.bind(this);\n      this.outerClick         =  this.outerClick.bind(this);\n   }\n\n   componentDidMount() {\n      let date                =  new Date();\n      let month               =  date.getMonth();\n      let year                =  date.getFullYear();\n      let calendar            =  this.getMonthDays(month, year);\n      this.setState({         \n         month          :  month,\n         year           :  year,\n         calendar       :  calendar\n      }, function() {\n\n      })\n      document.addEventListener('click', this.outerClick)\n   }\n\n   outerClick(e) {\n      e.stopPropagation();\n      if(!!this.state.show && !this.node.contains(e.target) && e.target.getAttribute('data') !== 'ignore-outer-click') {\n         this.setState({\n            show: false\n         })\n      }\n   }\n\n   handleClick(){\n      this.setState({\n         show: !this.state.show\n      })\n   }\n\n   handleDateRange(days, type) {\n      let endDate          =  moment();\n      let startDate        =  moment().subtract((days - 1), \"days\");\n      //console.log('Date Range : ', days, startDate.format('YYYY-MM-DD'), endDate.format('YYYY-MM-DD'));\n      this.props.onDateRange({\n         startDate   :  startDate.format('YYYY-MM-DD'),\n         endDate     :  endDate.format('YYYY-MM-DD'),\n         noofdays    :  (type === 'Custom') ? days : ''\n      })\n   }\n\n   selectDate(date, month, week){\n      let year          =  this.state.year;\n      let fulldate      =  moment(`${year}-${(month + 1)}-${date}`).format('YYYY-MM-DD');\n      //console.log(date, month, week, fulldate);\n      this.props.onSelectDate(fulldate);\n   }\n\n   \n   getMonthDays(month, year, selWeek = ''){\n      let firstDate       =   new Date(year, month, 1);\n      let firstDay        =   firstDate.getDay();\n      let weekFirstDate   =   new Date(firstDate.setDate(firstDate.getDate()-firstDay));\n      let date            =   weekFirstDate;\n      let lastDate        =   new Date(year, month + 1, 0);\n      let lastDay         =   lastDate.getDay();\n      let weekLastDate    =   new Date(lastDate.setDate(lastDate.getDate()+(6-lastDay)));\n      let days            =   [];\n      let today           =   new Date();\n      \n      while (date.getTime() <= weekLastDate.getTime()) {\n          let chkCurrDate        =   false;\n          if(date.getDate() === new Date(date.getTime()).getDate().toString()\n              && today.getMonth() === new Date(date.getTime()).getMonth()\n              && today.getFullYear() === new Date(date.getTime()).getFullYear()\n          ){\n              chkCurrDate        =   true;\n          }\n          days.push({\n              date         :  date.getDate(),\n              month        :  date.getMonth(),\n              year         :  date.getFullYear(),\n              day          :  this.weekDaysArr[date.getDay()],\n              fulldate     :  moment(date.getTime()).format('YYYY-MM-DD'),\n              currentDate  :  chkCurrDate\n\n          });\n          date.setDate(date.getDate() + 1);\n      }\n\n      var i,j,chunk        =  7;\n      let calendarArr      =  [];\n      for (i=0,j=days.length; i<j; i+=chunk) {\n          let arr          =  days.slice(i,i+chunk);\n          calendarArr.push(arr);\n      }\n\n      let currentWeek      =  0;\n      if(selWeek === ''){\n          calendarArr.forEach((dateArr, k) => {\n              if(dateArr.some(date => date.date === today.getDate() && date.month === today.getMonth()))\n                  currentWeek     =   k;\n          })\n      } else {\n          currentWeek     =   selWeek;\n      }\n      \n      return {allDays: calendarArr, month: this.monthName[month], year: year, currentWeek: currentWeek};\n   }\n\n   prevMonth(week = ''){\n      let month                     =  this.state.month;\n      let year                      =  this.state.year;\n      if(this.state.month === 0){\n         month                      =  11;\n         year                       =  (year - 1);\n      }else{\n         month                      =  (month - 1);\n         year                       =  year;\n      }\n      let calendar                  =  this.getMonthDays(month, year, week);\n      this.setState({\n         month                      :   month,\n         year                       :   year,\n         calendar                   :  calendar\n      })\n   }\n\n   nextMonth(week = ''){\n      let month                     =  this.state.month;\n      let year                      =  this.state.year;\n      if(month === 11){\n         month                      =  0;\n         year                       =  (year + 1);\n      }else{\n         month                      =  (month + 1);\n         year                       =  year;\n      }\n      let calendar                  =  this.getMonthDays(month, year, week);\n      this.setState({\n         month                      :   month,\n         year                       :   year,\n         calendar                   :  calendar\n      })\n   }\n  \n   onChangeHandle = (e) => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({ [name]: value }, function () {\n      });\n   }\n   \n   componentWillReceiveProps(props) {\n      if(this.props.selectDate !== props.selectDate) {\n         let date                =  new Date(props.selectDate);\n         let month               =  date.getMonth();\n         let year                =  date.getFullYear();\n         let calendar            =  this.getMonthDays(month, year);\n         this.setState({         \n            month          :  month,\n            year           :  year,\n            calendar       :  calendar\n         }, function() {\n\n         })\n      }\n      if(this.state.noofdays !== props.noofdays) {\n         this.setState({\n            noofdays : props.noofdays\n         })\n      }\n      /* this.setState({\n         //show: false\n      }) */\n   }\n\n   componentWillUnmount() {\n      document.removeEventListener('click', this.outerClick);\n   }\n\n   render() {\n      let calendar         =  this.state.calendar || {};\n      let selectDate       =  this.props.selectDate || '';\n      let startDate        =  this.props.startDate || '';\n      let currTimestamp    =  (!!startDate) ? moment(startDate).format('X') : '';\n      let endDate          =  this.props.endDate || '';\n      let endTimestamp     =  (!!endDate) ? moment(endDate).format('X') : '';\n      let tillDate         =  this.props.tillDate || '';\n      let tillTimestamp    =  (!!tillDate) ? moment(tillDate).format('X') : '';\n      let noofdays         =  this.props.noofdays || '';\n      return (      \n         <div ref={node => this.node = node} className={!this.state.show ? '': 'cOpen '}>\n            \n            <input type=\"text\" className={this.props.className} placeholder={this.props.placeholder} value={selectDate} readOnly onClick={this.handleClick} disabled={!!this.props.disabled}/>\n            \n            <div className={!this.state.show ? 'calendar hide': 'calendar '}>\n               <table>\n                  <thead>\n                  <tr>\n                     <th colSpan=\"5\">{calendar.month} {calendar.year}</th>\n                     <th colSpan=\"2\">\n                        <span className=\"aro_sec\">\n                           <a onClick={this.prevMonth}><img src=\"/assets/chevron_right.svg\" alt=\"left_arrow\"/></a>\n                           &nbsp;\n                           <a onClick={this.nextMonth}><img src=\"/assets/chevron-right.svg\" alt=\"right_arrow\"/></a>\n                        </span>\n                     </th>\n                  </tr>\n                  </thead>\n                  <tbody>\n                  <tr className=\"blue_bg\">\n                     <td width=\"14.285%\">SU</td>\n                     <td width=\"14.285%\">MO</td>\n                     <td width=\"14.285%\">TU</td>\n                     <td width=\"14.285%\">WE</td>\n                     <td width=\"14.285%\">TH</td>\n                     <td width=\"14.285%\">FR</td>\n                     <td width=\"14.285%\">SA</td>\n                  </tr>\n                  {\n                     (!!calendar.allDays && calendar.allDays.length > 0) ?\n                     calendar.allDays.map((week, k) => {\n                        return (\n                           <tr key={k}>\n                           {\n                              week.map((days, i) => {\n                                 let timestamp        =  moment(days.fulldate).format('X');\n                                 let clsName          =  '';\n                                 //console.log(tillDate);\n                                 if(currTimestamp == timestamp)\n                                    clsName           =  'select start';\n                                 if(!!endTimestamp && timestamp < endTimestamp && currTimestamp < timestamp)\n                                    clsName           =  'select range';\n                                 if(!!endTimestamp && timestamp == endTimestamp && currTimestamp < timestamp)\n                                    clsName           =  'select end';\n                                 return (\n                                    (!!tillTimestamp && tillTimestamp < timestamp) ?\n                                    <td key={i} align=\"center\" className=\"disabled\">\n                                       {days.date}\n                                    </td> : <td key={i} align=\"center\" className={clsName} onClick={()   => this.selectDate(days.date, days.month, k)}>\n                                     {days.date}\n                                  </td>\n                                    \n                                 )\n                              })\n                           }\n                           </tr>\n                        )\n                     }) : null\n                  }\n                  </tbody>\n               </table>\n               <div className=\"cus_last_date\">\n                  <ul>\n                     <li>Date Range</li>\n                     <li onClick={() => this.handleDateRange(7, '')}>Last 7 days</li>\n                     <li onClick={() => this.handleDateRange(30, '')}>Last 30 days</li>\n                     <li onClick={() => this.handleDateRange(90, '')}>Last 90 days</li>\n                     <li className=\"d_flex_n\">\n                        Last <input type=\"text\" size=\"20\" value={this.state.noofdays} name=\"noofdays\" onChange={this.onChangeHandle}/> days\n                        {\n                           (!!this.state.noofdays && this.state.noofdays !== noofdays) ?\n                           <a data=\"ignore-outer-click\" onClick={() => this.handleDateRange(this.state.noofdays, 'Custom')}>\n                              <img data=\"ignore-outer-click\" src=\"/assets/checkmark_blue.svg\" alt=\"check\"/>\n                           </a> : \n                           (!!noofdays && !!this.state.noofdays) ? \n                           <img src=\"/assets/checkmark_blue.svg\" className=\"blackCheck\" alt=\"check\"/> \n                           : null\n                        }\n                     </li>\n                  </ul>\n               </div>\n            </div>\n         </div>\n      )\n   }\n}"]},"metadata":{},"sourceType":"module"}