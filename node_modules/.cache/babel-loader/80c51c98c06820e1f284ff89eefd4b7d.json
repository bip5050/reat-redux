{"ast":null,"code":"import _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Settings/profile.js\";\nimport React, { Component } from 'react';\nimport { isEmpty, isEqual } from 'lodash';\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, props);\n\n    _this.handleProfileSubmit = function (e) {\n      e.preventDefault();\n      var formData = _objectSpread({}, _this.state.formData) || {};\n      delete formData.show_report;\n\n      var validate = _this.validate();\n\n      if (!validate.isError) _this.props.updateProfile(formData);\n    };\n\n    _this.changeHandle = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState({\n        formData: _objectSpread(_objectSpread({}, _this.state.formData), {}, _defineProperty({}, name, value))\n      });\n    };\n\n    _this.validate = function () {\n      var formData = _this.state.formData || {}; //let errors\t\t=\tthis.state.errors || {};\n\n      var errors = _objectSpread({}, _this.defaultError);\n\n      var isError = false;\n\n      if (!!!formData.first_name) {\n        errors.first_name = true;\n        isError = true;\n      }\n\n      if (!!!formData.last_name) {\n        errors.last_name = true;\n        isError = true;\n      }\n\n      if (!!!formData.email) {\n        errors.email = true;\n        isError = true;\n      }\n\n      return {\n        isError: isError,\n        errors: errors\n      };\n    };\n\n    _this.defaultError = {\n      first_name: false,\n      last_name: false,\n      email: false\n    };\n    _this.state = {\n      formData: {\n        first_name: '',\n        last_name: '',\n        email: ''\n      }\n      /* errors\t\t:\t{\n      \tfirst_name\t:\tfalse,\n      \tlast_name\t:\tfalse,\n      \temail\t\t:\tfalse\n      } */\n\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //console.log('Component Did Mount');\n      this.props.getInfo();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      //console.log('componentWillReceiveProps');\n      //console.log(props.profileData, this.props.profileData, !isEqual(props.profileData, this.props.profileData));\n      if (!isEmpty(props.profileData) && !isEqual(props.profileData, this.props.profileData)) {\n        this.setState({\n          formData: _objectSpread({}, props.profileData)\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formData = this.state.formData || {};\n      var validate = this.validate();\n      var errors = validate.errors || {};\n      var isDisabled = validate.isError;\n      /* if(!!errors.first_name || !!errors.last_name || !!errors.email) {\n      \tisDisabled\t\t=\ttrue;\n      } */\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"merchant_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleProfileSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, \"Personal Info\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"rname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        autoComplete: \"off\",\n        placeholder: \"Enter first name\",\n        className: \"t_box\".concat(!!errors.first_name ? ' error' : ''),\n        name: \"first_name\",\n        value: formData.first_name,\n        onChange: this.changeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"rname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        autoComplete: \"off\",\n        placeholder: \"Enter last name\",\n        className: \"t_box\".concat(!!errors.last_name ? ' error' : ''),\n        name: \"last_name\",\n        value: formData.last_name,\n        onChange: this.changeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"rname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        autoComplete: \"off\",\n        placeholder: \"Enter Email\",\n        className: \"t_box\".concat(!!errors.email ? ' error' : ''),\n        name: \"email\",\n        value: formData.email,\n        onChange: this.changeHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: isDisabled || this.props.isProcessing,\n        variant: \"primary\",\n        className: \"btn btn-secondary\".concat(!isDisabled && !this.props.isProcessing ? ' active' : ''),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, !!this.props.isProcessing ? 'Processing' : 'Submit'))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport { Profile as default };","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Settings/profile.js"],"names":["React","Component","isEmpty","isEqual","Profile","props","handleProfileSubmit","e","preventDefault","formData","state","show_report","validate","isError","updateProfile","changeHandle","name","target","value","setState","errors","defaultError","first_name","last_name","email","getInfo","profileData","isDisabled","isProcessing"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,QAAjC;;IACqBC,O;;;;;AACjB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACrB,8BAAMA,KAAN;;AADqB,UAoCtBC,mBApCsB,GAoCA,UAACC,CAAD,EAAO;AAC5BA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,QAAQ,GAAG,kBAAI,MAAKC,KAAL,CAAWD,QAAf,KAA4B,EAA3C;AACA,aAAOA,QAAQ,CAACE,WAAhB;;AACA,UAAIC,QAAQ,GAAG,MAAKA,QAAL,EAAf;;AACA,UAAG,CAACA,QAAQ,CAACC,OAAb,EACC,MAAKR,KAAL,CAAWS,aAAX,CAAyBL,QAAzB;AACD,KA3CqB;;AAAA,UA6CtBM,YA7CsB,GA6CP,UAACR,CAAD,EAAO;AACf,UAAMS,IAAI,GAAGT,CAAC,CAACU,MAAF,CAASD,IAAtB;AACN,UAAME,KAAK,GAAGX,CAAC,CAACU,MAAF,CAASC,KAAvB;;AACM,YAAKC,QAAL,CAAc;AACnBV,QAAAA,QAAQ,kCACJ,MAAKC,KAAL,CAAWD,QADP,2BAENO,IAFM,EAECE,KAFD;AADW,OAAd;AAMN,KAtDqB;;AAAA,UAwDtBN,QAxDsB,GAwDX,YAAM;AAChB,UAAIH,QAAQ,GAAG,MAAKC,KAAL,CAAWD,QAAX,IAAuB,EAAtC,CADgB,CAEhB;;AACA,UAAIW,MAAM,qBAAS,MAAKC,YAAd,CAAV;;AACA,UAAIR,OAAO,GAAI,KAAf;;AACA,UAAG,CAAC,CAAC,CAACJ,QAAQ,CAACa,UAAf,EAA2B;AAC1BF,QAAAA,MAAM,CAACE,UAAP,GAAoB,IAApB;AACAT,QAAAA,OAAO,GAAM,IAAb;AACA;;AACD,UAAG,CAAC,CAAC,CAACJ,QAAQ,CAACc,SAAf,EAA0B;AACzBH,QAAAA,MAAM,CAACG,SAAP,GAAmB,IAAnB;AACAV,QAAAA,OAAO,GAAM,IAAb;AACA;;AACD,UAAG,CAAC,CAAC,CAACJ,QAAQ,CAACe,KAAf,EAAsB;AACrBJ,QAAAA,MAAM,CAACI,KAAP,GAAgB,IAAhB;AACAX,QAAAA,OAAO,GAAM,IAAb;AACA;;AACD,aAAO;AAACA,QAAAA,OAAO,EAAEA,OAAV;AAAmBO,QAAAA,MAAM,EAAEA;AAA3B,OAAP;AACA,KA1EqB;;AAErB,UAAKC,YAAL,GAAoB;AACnBC,MAAAA,UAAU,EAAG,KADM;AAEnBC,MAAAA,SAAS,EAAG,KAFO;AAGnBC,MAAAA,KAAK,EAAI;AAHU,KAApB;AAKM,UAAKd,KAAL,GAAoB;AACzBD,MAAAA,QAAQ,EAAG;AACVa,QAAAA,UAAU,EAAG,EADH;AAEVC,QAAAA,SAAS,EAAG,EAFF;AAGVC,QAAAA,KAAK,EAAI;AAHC;AAKX;;;;;;AANyB,KAApB;AAPe;AAmBrB;;;;wCAEmB;AACnB;AACA,WAAKnB,KAAL,CAAWoB,OAAX;AACA;;;8CAEyBpB,K,EAAO;AAChC;AACA;AACA,UAAG,CAACH,OAAO,CAACG,KAAK,CAACqB,WAAP,CAAR,IAA+B,CAACvB,OAAO,CAACE,KAAK,CAACqB,WAAP,EAAoB,KAAKrB,KAAL,CAAWqB,WAA/B,CAA1C,EAAuF;AACtF,aAAKP,QAAL,CAAc;AACbV,UAAAA,QAAQ,oBAAOJ,KAAK,CAACqB,WAAb;AADK,SAAd;AAGA;AACD;;;6BA0CW;AACX,UAAIjB,QAAQ,GAAI,KAAKC,KAAL,CAAWD,QAAX,IAAuB,EAAvC;AACA,UAAIG,QAAQ,GAAI,KAAKA,QAAL,EAAhB;AACA,UAAIQ,MAAM,GAAKR,QAAQ,CAACQ,MAAT,IAAmB,EAAlC;AACA,UAAIO,UAAU,GAAIf,QAAQ,CAACC,OAA3B;AACA;;;;AAGM,0BACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,QAAQ,EAAE,KAAKP,mBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,YAAY,EAAC,KAAhC;AAAsC,QAAA,WAAW,EAAC,kBAAlD;AAAqE,QAAA,SAAS,iBAAW,CAAC,CAACc,MAAM,CAACE,UAAV,GAAwB,QAAxB,GAAmC,EAA7C,CAA9E;AAAiI,QAAA,IAAI,EAAC,YAAtI;AAAmJ,QAAA,KAAK,EAAEb,QAAQ,CAACa,UAAnK;AAA+K,QAAA,QAAQ,EAAE,KAAKP,YAA9L;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAFJ,eAMI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,YAAY,EAAC,KAAhC;AAAsC,QAAA,WAAW,EAAC,iBAAlD;AAAoE,QAAA,SAAS,iBAAW,CAAC,CAACK,MAAM,CAACG,SAAV,GAAuB,QAAvB,GAAkC,EAA5C,CAA7E;AAA+H,QAAA,IAAI,EAAC,WAApI;AAAgJ,QAAA,KAAK,EAAEd,QAAQ,CAACc,SAAhK;AAA2K,QAAA,QAAQ,EAAE,KAAKR,YAA1L;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CANJ,eAUI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,YAAY,EAAC,KAAjC;AAAuC,QAAA,WAAW,EAAC,aAAnD;AAAiE,QAAA,SAAS,iBAAW,CAAC,CAACK,MAAM,CAACI,KAAV,GAAmB,QAAnB,GAA8B,EAAxC,CAA1E;AAAwH,QAAA,IAAI,EAAC,OAA7H;AAAqI,QAAA,KAAK,EAAEf,QAAQ,CAACe,KAArJ;AAA4J,QAAA,QAAQ,EAAE,KAAKT,YAA3K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAVJ,eAcI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAEY,UAAU,IAAI,KAAKtB,KAAL,CAAWuB,YAAzD;AAAuE,QAAA,OAAO,EAAC,SAA/E;AAAyF,QAAA,SAAS,6BAAuB,CAACD,UAAD,IAAe,CAAC,KAAKtB,KAAL,CAAWuB,YAA5B,GAA4C,SAA5C,GAAuD,EAA7E,CAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuL,CAAC,CAAC,KAAKvB,KAAL,CAAWuB,YAAd,GAA8B,YAA9B,GAA6C,QAAnO,CADJ,CAdJ,CADJ,CADJ;AAsBH;;;;EA3GgC3B,S;;SAAhBG,O","sourcesContent":["import React, { Component } from 'react';\nimport { isEmpty, isEqual } from 'lodash';\nexport default class Profile extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.defaultError\t=\t{\n\t\t\tfirst_name\t:\tfalse,\n\t\t\tlast_name\t:\tfalse,\n\t\t\temail\t\t:\tfalse\n\t\t}\n        this.state      =   {\n\t\t\tformData\t:\t{\n\t\t\t\tfirst_name\t:\t'',\n\t\t\t\tlast_name\t:\t'',\n\t\t\t\temail\t\t:\t''\n\t\t\t},\n\t\t\t/* errors\t\t:\t{\n\t\t\t\tfirst_name\t:\tfalse,\n\t\t\t\tlast_name\t:\tfalse,\n\t\t\t\temail\t\t:\tfalse\n\t\t\t} */\n        }\n\t}\n\t\n\tcomponentDidMount() {\n\t\t//console.log('Component Did Mount');\n\t\tthis.props.getInfo();\n\t}\n\t\n\tcomponentWillReceiveProps(props) {\n\t\t//console.log('componentWillReceiveProps');\n\t\t//console.log(props.profileData, this.props.profileData, !isEqual(props.profileData, this.props.profileData));\n\t\tif(!isEmpty(props.profileData) && !isEqual(props.profileData, this.props.profileData)) {\n\t\t\tthis.setState({\n\t\t\t\tformData : {...props.profileData}\n\t\t\t})\n\t\t}\n\t}\n\t\n\thandleProfileSubmit = (e) => {\n\t\te.preventDefault();\n\t\tlet formData\t=\t{...this.state.formData} || {};\n\t\tdelete formData.show_report;\n\t\tlet validate\t=\tthis.validate();\n\t\tif(!validate.isError)\n\t\t\tthis.props.updateProfile(formData);\n\t}\n\t\n\tchangeHandle = (e) => {\n        const name = e.target.name;\n\t\tconst value = e.target.value;\n        this.setState({\n\t\t\tformData:{\n\t\t\t\t...this.state.formData,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t})\n\t}\n\t\n\tvalidate = () => {\n\t\tlet formData\t=\tthis.state.formData || {};\n\t\t//let errors\t\t=\tthis.state.errors || {};\n\t\tlet errors\t\t\t=\t{...this.defaultError};\n\t\tlet isError\t\t=\tfalse;\n\t\tif(!!!formData.first_name) {\n\t\t\terrors.first_name\t=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n\t\t}\n\t\tif(!!!formData.last_name) {\n\t\t\terrors.last_name\t=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n\t\t}\n\t\tif(!!!formData.email) {\n\t\t\terrors.email\t\t=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n\t\t}\n\t\treturn {isError: isError, errors: errors};\n\t}\n\n    render() {\n\t\tlet formData\t\t=\tthis.state.formData || {};\n\t\tlet validate\t\t=\tthis.validate();\n\t\tlet errors\t\t\t=\tvalidate.errors || {};\n\t\tlet isDisabled\t\t=\tvalidate.isError;\n\t\t/* if(!!errors.first_name || !!errors.last_name || !!errors.email) {\n\t\t\tisDisabled\t\t=\ttrue;\n\t\t} */\n        return (\n            <div className=\"merchant_box\">\n                <form onSubmit={this.handleProfileSubmit}>\n                    <h4>Personal Info</h4>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"rname\">First Name</label>\n                        <input type=\"text\" autoComplete=\"off\" placeholder=\"Enter first name\" className={`t_box${(!!errors.first_name) ? ' error' : ''}`} name=\"first_name\" value={formData.first_name} onChange={this.changeHandle}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"rname\">Last Name</label>\n                        <input type=\"text\" autoComplete=\"off\" placeholder=\"Enter last name\" className={`t_box${(!!errors.last_name) ? ' error' : ''}`} name=\"last_name\" value={formData.last_name} onChange={this.changeHandle}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"rname\">Email</label>\n                        <input type=\"email\" autoComplete=\"off\" placeholder=\"Enter Email\" className={`t_box${(!!errors.email) ? ' error' : ''}`} name=\"email\" value={formData.email} onChange={this.changeHandle}/>\n                    </div>\n                    <div className=\"text-right\">\n                        <button type=\"submit\" disabled={isDisabled || this.props.isProcessing} variant=\"primary\" className={`btn btn-secondary${(!isDisabled && !this.props.isProcessing) ? ' active' :''}`}>{(!!this.props.isProcessing) ? 'Processing' : 'Submit'}</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}