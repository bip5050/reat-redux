{"ast":null,"code":"import _defineProperty from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/biplab/Desktop/foodjets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/biplab/Desktop/foodjets/src/containers/Login/login.js\";\nimport React, { Component } from 'react';\nimport { PropTypes as PT } from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { getCookie } from '../../util/cookies';\nimport { isEmpty } from 'lodash';\n\nvar LoginForm = /*#__PURE__*/function (_Component) {\n  _inherits(LoginForm, _Component);\n\n  var _super = _createSuper(LoginForm);\n\n  function LoginForm(props) {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _super.call(this, props);\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var email = _this.email.value;\n      var password = _this.password.value;\n      var remember = _this.state.remember;\n      var data = {\n        email: email,\n        password: password,\n        remember: remember\n      };\n\n      var validate = _this.validate(data);\n\n      var type = e.type;\n      if (!validate.errors.password && !validate.errors.email && type == \"submit\") _this.props.doLogin(data); // this.props.changePassword(formData);\n    };\n\n    _this.validate = function (data) {\n      var formData = data || {};\n\n      var errors = _objectSpread({}, _this.state.defaultError);\n\n      var isError = false;\n\n      if (!!!formData.password) {\n        errors.password = true;\n        isError = true;\n      } else if (formData.password.length < 4 && formData.password.length > 0) {\n        errors.password = true;\n        isError = true;\n      } else {\n        errors.password = false;\n        isError = false;\n      }\n\n      if (!!!formData.email) {\n        errors.email = true;\n        isError = true;\n      } else if (!_this.validateEmail(formData.email)) {\n        errors.email = true;\n        isError = true;\n      } else {\n        errors.email = false;\n        isError = false;\n      }\n\n      _this.setState({\n        defaultError: errors\n      });\n\n      return {\n        isError: isError,\n        errors: errors\n      };\n    };\n\n    _this.validateEmail = function (email) {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email));\n    };\n\n    _this.state = {\n      msg: '',\n      remember: false,\n      typePass: 'password',\n      defaultError: {\n        password: false,\n        email: false\n      }\n    }; //  this.handleSubmit          =  this.handleSubmit.bind(this);\n\n    _this.handleRem = _this.handleRem.bind(_assertThisInitialized(_this));\n    _this.toggleShowpass = _this.toggleShowpass.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      /* let loginData = getCookie() || {};\n      console.log('Login Data : ', loginData); */\n      var user = {};\n      var currentCookie = getCookie('foodjets_merchant') || {};\n      user = currentCookie || {};\n\n      if (!isEmpty(user)) {\n        window.location.href = '/dashboard';\n      }\n    }\n  }, {\n    key: \"handleRem\",\n    value: function handleRem(e) {\n      var target = e.target;\n      this.setState(_defineProperty({}, e.target.name, !this.state[e.target.name]));\n    }\n  }, {\n    key: \"toggleShowpass\",\n    value: function toggleShowpass() {\n      this.setState({\n        typePass: this.state.typePass === 'password' ? 'text' : 'password'\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (!!props.isSuccess) {\n        window.location.href = '/dashboard';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = _objectSpread({}, this.state.defaultError); //let isDisabled\t\t=\tvalidate.isError;\n\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login_p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"log_left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 16\n        }\n      }, \"Welcome\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 16\n        }\n      }, \"Sign in to your account\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"t-email ltbox \".concat(!!errors.email ? ' error' : ''),\n        type: \"text\",\n        ref: function ref(input) {\n          return _this2.email = input;\n        },\n        onChange: function onChange(e) {\n          return _this2.handleSubmit(e, \"data\");\n        },\n        placeholder: \"Email address\"\n        /*defaultValue=\"admin\"*/\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 22\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pass_wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"t-pass ltbox \".concat(!!errors.password ? ' error' : ''),\n        type: this.state.typePass,\n        ref: function ref(input) {\n          return _this2.password = input;\n        },\n        onChange: function onChange(e) {\n          return _this2.handleSubmit(e, \"data\");\n        },\n        placeholder: \"Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 50\n        }\n      }), /*#__PURE__*/React.createElement(Link, {\n        onClick: this.toggleShowpass,\n        className: this.state.typePass === 'text' ? \"showpass\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/eye.svg\",\n        alt: \"eye_img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 117\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"f-pass\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"remember_pan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"remember\",\n        name: \"remember\",\n        className: \"c_box\",\n        checked: this.state.remember,\n        onChange: function onChange(e) {\n          return _this2.handleRem(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 53\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"remember\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 190\n        }\n      }, \"Remember Me\")), \" \", /*#__PURE__*/React.createElement(Link, {\n        className: \"btn btn-link px-0\",\n        to: \"/forgot-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 243\n        }\n      }, \"Forgot your password?\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sbtn_pan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"sbtn\",\n        disabled: !!this.props.isProcessing,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 22\n        }\n      }, !!this.props.isProcessing ? 'Processing....' : 'Sign In')), !!this.props.isError ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"aleart_pan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert_box\".concat(this.props.loginData.message === \"That's not the right password. Sorry!\" ? '' : ' hide'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, \"Sorry that email and password combination isn\\u2019t right.\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert_box\".concat(this.props.loginData.message === \"We can't find an account with that email.\" ? '' : ' hide'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, \"Sorry that email and password combination isn\\u2019t right.\")) : null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"log_right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/Sign-in-bg.svg\",\n        alt: \"login_img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 16\n        }\n      })));\n    }\n  }]);\n\n  return LoginForm;\n}(Component);\n\nLoginForm.propTypes = {\n  isFetching: PT.bool,\n  isProcessing: PT.bool,\n  isError: PT.bool,\n  isSuccess: PT.bool,\n  loginData: PT.object,\n  doLogin: PT.func\n};\nLoginForm.defaultProps = {\n  isFetching: false,\n  isProcessing: false,\n  isError: false,\n  isSuccess: false,\n  states: [],\n  doLogin: function doLogin() {}\n};\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["/home/biplab/Desktop/foodjets/src/containers/Login/login.js"],"names":["React","Component","PropTypes","PT","withRouter","Link","getCookie","isEmpty","LoginForm","props","handleSubmit","e","preventDefault","email","value","password","remember","state","data","validate","type","errors","doLogin","formData","defaultError","isError","length","validateEmail","setState","re","test","String","msg","typePass","handleRem","bind","toggleShowpass","user","currentCookie","window","location","href","target","name","isSuccess","input","isProcessing","loginData","message","propTypes","isFetching","bool","object","func","defaultProps","states"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {PropTypes as PT} from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport {getCookie} from '../../util/cookies';\nimport {isEmpty} from 'lodash';\nclass LoginForm extends Component{\n   static propTypes = {\n\t\tisFetching           :  PT.bool,\n\t\tisProcessing         :  PT.bool,\n\t\tisError              :  PT.bool,\n\t\tisSuccess            :  PT.bool,\n\t\tloginData            :  PT.object,\n\t\tdoLogin              :  PT.func\n\t}\n\n\tstatic defaultProps = {\n\t\tisFetching           :  false,\n\t\tisProcessing         :  false,\n\t\tisError              :  false,\n\t\tisSuccess            :  false,\n\t\tstates               :  [],\n\t\tdoLogin              :  () => {}\n\t}\n\n   constructor(props){\n      super(props);\n   \n      this.state          =   {\n         msg             :   '',\n         remember: false,\n         typePass: 'password',\n         defaultError:{\n            password\t:\tfalse,\n            email\t:\tfalse\n         }\n      }\n    //  this.handleSubmit          =  this.handleSubmit.bind(this);\n      this.handleRem          =  this.handleRem.bind(this);\n      this.toggleShowpass  = this.toggleShowpass.bind(this);\n    \n   }\n\n   componentWillMount() {\n      /* let loginData = getCookie() || {};\n      console.log('Login Data : ', loginData); */\n      let user          = {};\n      let currentCookie = getCookie('foodjets_merchant') || {};\n      user              = currentCookie || {};\n     \n      if(!isEmpty(user)) {\n         window.location.href='/dashboard';\n      }\n   }\n\n   handleRem(e) {\n      let target  =    e.target;\n      this.setState({\n          [e.target.name]: !this.state[e.target.name],\n      });\n  } \n\n\n\n  toggleShowpass(){\n      this.setState({\n         typePass: this.state.typePass === 'password' ? 'text' : 'password'\n      })\n  }\n\n   handleSubmit = (e) => {\n      e.preventDefault();\n     \n     \n      const email         =   this.email.value;\n      const password      =   this.password.value;\n      const  remember        =   this.state.remember;\n\n      const data          =   {\n                                 email:email,\n                                 password:password,\n                                 remember          \n                              }\n                            \n   let validate\t=\tthis.validate(data);\n   let  type = e.type;\n  \n   if(!validate.errors.password && !validate.errors.email && type == \"submit\"  )\n   this.props.doLogin(data);\n     // this.props.changePassword(formData);\n\n      \n   }\n   \n\n   validate = (data) => {\n\t\tlet formData\t=\tdata || {};\n\t\tlet errors\t\t=\t{...this.state.defaultError};\n\t\tlet isError\t\t=\tfalse;\n\t\tif(!!!formData.password) {\n\t\t\terrors.password\t\t=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      } \n      else if(formData.password.length<4 && formData.password.length>0) {\n         errors.password\t\t=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      }\n      else {\n         errors.password\t\t=\tfalse;\n\t\t\tisError\t\t\t\t=\tfalse;\n      }\n\t\tif(!!!formData.email) {\n\t\t\terrors.email=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      }\n      else if(!this.validateEmail(formData.email)) {\n         errors.email=\ttrue;\n\t\t\tisError\t\t\t\t=\ttrue;\n      }\n      else {\n         errors.email=\tfalse;\n\t\t\tisError\t\t\t\t=\tfalse;\n      }\n\n    \n      this.setState({\n         defaultError: errors\n      });\n\t\treturn {isError: isError, errors: errors};\n   }\n\n   \n   validateEmail =(email) =>{\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email));\n  }\n\n   componentWillReceiveProps(props){\n     \n      if(!!props.isSuccess){\n         window.location.href='/dashboard';\n      }\n   }\n\n   render(){\n      let errors\t\t=\t{...this.state.defaultError};\n\t\t//let isDisabled\t\t=\tvalidate.isError;\n      return (\n         <div className=\"login_p\">\n            <div className=\"log_left\">\n               <h4>Welcome</h4>\n               <p>Sign in to your account</p>\n               <form onSubmit={this.handleSubmit}>\n                  <div className=\"input-group\">\n                     <input className={`t-email ltbox ${(!!errors.email) ? ' error' : ''}`} type=\"text\" ref={(input) => this.email = input} onChange={(e)=>this.handleSubmit(e,\"data\")} placeholder=\"Email address\" /*defaultValue=\"admin\"*/ />\n                  </div>\n                  <div className=\"input-group\">\n                     <span className=\"pass_wrap\"><input className={`t-pass ltbox ${(!!errors.password) ? ' error' : ''}`}type={this.state.typePass} ref={(input) => this.password = input} onChange={(e)=>this.handleSubmit(e,\"data\")} placeholder=\"Password\" />\n                     <Link onClick={this.toggleShowpass} className={this.state.typePass === 'text' ? \"showpass\":\"\"}><img src=\"/assets/eye.svg\" alt=\"eye_img\" /></Link></span>\n                  </div>\n                  <div className=\"f-pass\">\n                     <span className=\"remember_pan\"><input type=\"checkbox\" id=\"remember\" name=\"remember\" className=\"c_box\" checked={this.state.remember} onChange={(e)=>this.handleRem(e)}/> <label htmlFor=\"remember\">Remember Me</label></span> <Link className=\"btn btn-link px-0\" to='/forgot-password'>Forgot your password?</Link>\n                  </div>\n                  <div className=\"sbtn_pan\">\n                     <button className=\"sbtn\" disabled={!!this.props.isProcessing}>{(!!this.props.isProcessing) ? 'Processing....' : 'Sign In'}</button>\n                  </div>\n                  {\n                     (!!this.props.isError) ? \n                     <div className=\"aleart_pan\">\n                        <div className={`alert_box${(this.props.loginData.message === \"That's not the right password. Sorry!\") ? '' : ' hide'}`}>\n                           {/* Sorry, that password isn’t right. We can help you <Link to='/forgot-password'>recover your password.</Link> */}\n                           Sorry that email and password combination isn’t right.\n                        </div>\n                        <div className={`alert_box${(this.props.loginData.message === \"We can't find an account with that email.\") ? '' : ' hide'}`}>\n                           {/* Sorry, that email isn’t right. We can help you <Link to='/forgot-password'>recover your email address.</Link> */}\n                           Sorry that email and password combination isn’t right.\n                        </div>\n                        \n                     </div> : null\n                  }\n               </form>\n            </div>\n            <div className=\"log_right\">\n               <img src=\"/assets/Sign-in-bg.svg\" alt=\"login_img\" />\n            </div>\n         </div>               \n      )\n   }\n}\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}